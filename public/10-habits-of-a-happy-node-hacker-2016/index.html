<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Fangdun Cai" />
    <title> 10 Habits of a Happy Node Hacker 2016 - 锈出未来 </title>
    <meta
      name="description"
      content="生命第 N 次练习，谢天地赐我逆境！"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/minireset.css@0.0.6/minireset.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/firacode@2.0.0/distr/fira_code.css"
    />
    <link rel="stylesheet" href="https:&#x2F;&#x2F;fundon.me&#x2F;index.css" />
    <link rel='alternate' type='application/rss+xml' href="https:&#x2F;&#x2F;fundon.me&#x2F;rss.xml" />
  </head>
  <body>
  <script async="">
      window.isDark = false
      function toggle() {
        if (document.querySelector('html').classList.toggle('dark-theme')) {
          localStorage.setItem('dark-mode', true)
        } else {
          localStorage.removeItem('dark-mode')
        }
      }
      try {
        if (localStorage.getItem('dark-mode')) {
          toggle()
          window.isDark = true
        }
      } catch (e) {}
    </script>
    <nav class="navbar">
      <div class="container">
        <div class="navbar-brand">
          <a class="logo" href="https:&#x2F;&#x2F;fundon.me">
            <img src="https:&#x2F;&#x2F;avatars2.githubusercontent.com&#x2F;u&#x2F;27926?s=400&amp;v=4" />
          </a>
        </div>
        <ul class="social">
          <li>
            <a href="https://github.com/fundon">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0020 4.77 5.07 5.07 0 0019.91 1S18.73.65 16 2.48a13.38 13.38 0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 005 4.77a5.44 5.44 0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 009 18.13V22"/>
</svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/_fundon">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/>
</svg>
            </a>
          </li>
          <li>
            <a href="mailto:cfddream@gmail.com">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
  <path d="M22 6l-10 7L2 6"/>
</svg>
            </a>
          </li>
          <li>
            <a href="https:&#x2F;&#x2F;fundon.me&#x2F;tags&#x2F;">
               <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/>
  <path d="M7 7h.01"/>
</svg>
            </a>
          </li>
          <li>
            <a href="https:&#x2F;&#x2F;fundon.me&#x2F;rss.xml">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M4 11a9 9 0 019 9"/>
  <path d="M4 4a16 16 0 0116 16"/>
  <circle cx="5" cy="19" r="1"/>
</svg>
            </a>
          </li>
          <li>
            <button class="toggle">
              <span class="sun">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <circle cx="12" cy="12" r="5"/>
  <path d="M12 1v2"/>
  <path d="M12 21v2"/>
  <path d="M4.22 4.22l1.42 1.42"/>
  <path d="M18.36 18.36l1.42 1.42"/>
  <path d="M1 12h2"/>
  <path d="M21 12h2"/>
  <path d="M4.22 19.78l1.42-1.42"/>
  <path d="M18.36 5.64l1.42-1.42"/>
</svg>
              </span>
              <span class="moon">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
</svg>
              </span>
            </button>
          </li>
        </ul>
      </div>
    </nav>

    <header class="header">
      <div class="container">
        <h1 class="header-title">
           10 Habits of a Happy Node Hacker 2016 
        </h1>
        <div class="header-meta">
          <span class="header-meta-author">Fangdun Cai</span>
           
  <time class="header-meta-date">
    December 12th, 2015
  </time>

        </div>
         
  
  <ul class="header-meta-tags">  
    
    <li>
      <a href="https://fundon.me/tags/translation/">Translation</a>&nbsp;
    </li>
    
    <li>
      <a href="https://fundon.me/tags/node/">Node</a>&nbsp;
    </li>
    
    <li>
      <a href="https://fundon.me/tags/npm/">NPM</a>&nbsp;
    </li>
    
    <li>
      <a href="https://fundon.me/tags/javascript/">JavaScript</a>&nbsp;
    </li>
    
  </ul>
  

        
      </div>
    </header>

    <main class="content container">
      
<article class="post">
  <div class="post-content">
    <p class="post-description">
      
    </p>
    <p>原文：<a href="https://blog.heroku.com/archives/2015/11/10/node-habits-2016">10 Habits of a Happy Node Hacker (2016)</a> by Hunter</p>
<p>在 2015 年底，JavaScript 开发者周边已经充斥了很多工具，供他们支配使用。
<a href="https://blog.heroku.com/archives/2014/3/11/node-habits">上次</a>我们已经观察了这个问题，现代 JS 的兴起。今天，我们很容易迷失在这巨大的生态系统中，
所以成功的团队都需要遵循指南，使他们的时间和项目保存健康。</p>
<p>这 10 个习惯很适合即将进入 2016 的 Node.js 黑客。
它们真对的是应用开发者，而不是模块作者，因为这些群体有不同的目标和约束：</p>
<h2 id="1-shi-yong-npm-init-kai-shi-mei-ge-xin-xiang-mu">1. 使用 <code>npm init</code> 开始每个新项目</h2>
<p>NPM <code>init</code> 命令将为你的项目生成一个有效的 <code>package.json</code> 文件，
从工作目录中自动推到出一些常见属性。</p>
<pre style="background-color:#282a36;">
<span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> mkdir my-awesome-app
</span><span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> cd my-awesome-app
</span><span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> npm init</span><span style="font-style:italic;color:#ffb86c;"> --yes
</span></pre>
<p>我比较懒，所以我使用了 <code>--yes</code> 标志去执行它，然后打开 package.json 做些修改。
第一件事你应该指定一个 <code>engines</code> 关键词，使用你当前的 node 版本（<code>node -v</code>）。</p>
<pre style="background-color:#282a36;">
<span style="color:#eeeeee;">&quot;</span><span style="color:#f1fa8c;">engines</span><span style="color:#eeeeee;">&quot;</span><span style="color:#f8f8f2;">: {
  </span><span style="color:#eeeeee;">&quot;</span><span style="color:#cfcfc2;">node</span><span style="color:#eeeeee;">&quot;</span><span style="color:#f8f8f2;">: </span><span style="color:#f1fa8c;">&quot;4.2.1&quot;
</span><span style="color:#f8f8f2;">}
</span></pre><h2 id="2-shi-yong-yi-ge-zhi-neng-de-npmrc-pei-zhi">2. 使用一个智能的 <code>.npmrc</code> 配置</h2>
<p>默认地，npm 不会保存已经安装的依赖到 package.json（所以你总是需要追踪你的依赖！）。</p>
<p>如果你使用 <code>--save</code> 标志去自动更新 package.json，npm 安装这些包会以 <code>^</code> 开头，会导致你的
模块在不同版本之间漂移。这对模块开发没问题，但对应用不好，
如果你想要在所有的环境之间保持一致的依赖关系。</p>
<p>一个解决方案是像这样安装包：</p>
<pre style="background-color:#282a36;">
<span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> npm install foobar</span><span style="font-style:italic;color:#ffb86c;"> --save --save-exact
</span></pre>
<p>更胜一筹的，你可以把这些选项添加到 <code>~/.npmrc</code> 中，更新你的默认设置：</p>
<pre style="background-color:#282a36;">
<span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> npm config set save=true
</span><span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> npm config set save-exact=true
</span><span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> cat </span><span style="color:#bd93f9;">~</span><span style="color:#f8f8f2;">/.npmrc
</span></pre>
<p>现在，<code>npm install foobar</code> 将会自动添加 <code>foobar</code> 到 package.json
并且你的依赖不会在安装时产生偏移!</p>
<p>如果你更喜欢在 package.json 中保持弹性依赖，但仍然需要在生产环境中锁住依赖的话，你或者可以
生成 <a href="https://docs.npmjs.com/cli/shrinkwrap">npm's shrinkwrap</a> 到你的工作流中。这需要花费更多的精力，但是还是很多好处的，保持
准确的版本的嵌套依赖关系。</p>
<h2 id="3-kuai-tiao-shang-es6-huo-che-ba">3. 快跳上 ES6 火车吧！</h2>
<p>Node 4+ 携带了一个 <a href="https://nodejs.org/en/blog/release/v4.0.0/">V8 引擎的更新</a>，拥有几个有用的 <a href="https://nodejs.org/en/docs/es6/">ES6 特性</a>。
不要害怕，并不是一些复杂的东西，你可以轻松学习它。有许多简单的改进，让人满意。</p>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">user </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">users</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">find</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">u </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">u</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">id </span><span style="color:#ff79c6;">=== </span><span style="color:#ffffff;">ID</span><span style="color:#f8f8f2;">)

</span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">`Hello, </span><span style="color:#f8f8f2;">${</span><span style="color:#ffffff;">user</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">name</span><span style="color:#f8f8f2;">}</span><span style="color:#f1fa8c;">!`</span><span style="color:#f8f8f2;">)
</span></pre><h2 id="4-jian-chi-shi-yong-xiao-xie">4. 坚持使用小写</h2>
<p>一些语言鼓励文件名匹配类名，比如 <code>MyClass</code> 和 <code>MyClass.js</code>。在 Node 中，
不要那样做。而是使用文件名小写的方式：</p>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">MyClass </span><span style="color:#ff79c6;">= </span><span style="color:#50fa7b;">require</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;my-class&#39;</span><span style="color:#f8f8f2;">)
</span></pre>
<p>Node.js 是一个罕见的范例，Linux-centric 化工具，但跨平台支持又多。
当在 OSX 和 Windows 平台时，对待 <code>myclass.js</code> 和 <code>MyClass.js</code> 是一样的，
Linux 不会。如果要编写可在这些平台移植的代码，你就需要明确匹配 <code>require</code>
中的声明，包括大写。</p>
<p>一个简单正确的方式，就是一切都使用文件名小写的方式。例如 <code>my-class.js</code>。</p>
<blockquote>
<p>译者：其实 Mac OSX 也可以设置文件系统 case-sensitive。</p>
</blockquote>
<h2 id="5-cluster-ni-de-ying-yong">5. Cluster 你的应用</h2>
<p>自从 node 运行时被限制在单核 CPU 和大约 1.5 GB 的内存之后，
部署一个无 clustered 模式的 node 应用在一个大型服务器上是一个对资源巨大的浪费。</p>
<p>要想利用多核和内存超过 1.5 GB 的话，把支持 <a href="https://nodejs.org/api/cluster.html">Cluster</a> 烧尽你的应用。
即使如果今天你仅仅把单个进程运行在小硬件上，在未来 Cluster 也会带给你足够的灵活。</p>
<p>测试是最好的方式，弄清楚你的应用理想的 clustered 进程数，
但最好根据你的平台提出一个<a href="https://devcenter.heroku.com/articles/node-concurrency">合理的默认值</a>，可以有个简单的备选。
比如：</p>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">CONCURRENCY </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#66d9ef;">process</span><span style="color:#ff79c6;">.</span><span style="font-style:italic;color:#66d9ef;">env</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">WEB_CONCURRENCY </span><span style="color:#ff79c6;">|| </span><span style="color:#bd93f9;">1
</span></pre>
<p>选择一个 <a href="https://www.npmjs.com/search?q=cluster">Cluster abstraction</a> 可以避免重复造（进程管理的）轮子。如果你喜欢分开
<code>master</code> 和 <code>worker</code> 文件，可以试试 <a href="https://www.npmjs.com/package/forky">forky</a>。 如果你更喜欢单个入口文件和函数的话，
看看这个 <a href="https://www.npmjs.com/package/throng">throng</a>。</p>
<h2 id="6-you-huan-jing-yi-shi">6. 有环境意识</h2>
<p>不要在你的项目中乱扔具体环境配置文件！而应该使用环境变量。</p>
<p>首选，安装 <a href="https://github.com/strongloop/node-foreman">node-foreman</a>：</p>
<pre style="background-color:#282a36;">
<span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> npm install</span><span style="font-style:italic;color:#ffb86c;"> --save --save-exact</span><span style="color:#f8f8f2;"> foreman
</span></pre>
<p>然后，创建一个 <a href="https://devcenter.heroku.com/articles/procfile">Procfile</a> 文件，声明你的应用的进程类型：</p>
<pre style="background-color:#282a36;">
<span style="color:#f8f8f2;">web: bin/web
worker: bin/worker
</span></pre>
<p>现在，你就可以使用 <code>nf</code> 程序启动你的应用</p>
<pre style="background-color:#282a36;">
<span style="color:#eeeeee;">&quot;</span><span style="color:#f1fa8c;">scripts</span><span style="color:#eeeeee;">&quot;</span><span style="color:#f8f8f2;">: {
  </span><span style="color:#eeeeee;">&quot;</span><span style="color:#cfcfc2;">start</span><span style="color:#eeeeee;">&quot;</span><span style="color:#f8f8f2;">: </span><span style="color:#f1fa8c;">&quot;nf start&quot;
</span><span style="color:#f8f8f2;">}
</span></pre>
<p>要支持本地开发环境，可以创建 <code>.gitignore</code> 文件，把 <code>.env</code> 文件加入进来。
使用 node-foreman 时，<code>.env</code> 文件将会被加载进来：</p>
<pre style="background-color:#282a36;">
<span style="color:#ffffff;">DATABASE_URL</span><span style="color:#ff79c6;">=</span><span style="color:#f1fa8c;">&#39;postgres://localhost/foobar&#39;
</span><span style="color:#ffffff;">HTTP_TIMEOUT</span><span style="color:#ff79c6;">=</span><span style="color:#f1fa8c;">10000
</span></pre>
<p>现在，一个简单的命令（<code>npm start</code>）将会使 <code>web</code> 和 <code>worker</code> 进程在那个环境下
同时运转起来。然后，当你部署你的项目时，它会在新的主机上自动适应这些环境变量。</p>
<p>比起 <code>config/abby-dev.js</code>、<code>config/brian-dev.js</code>，<code>config/qa1.js</code>、
<code>config/qa2.js</code>、<code>config/prod.js</code>，这个更加简单灵活。</p>
<h2 id="7-bi-mian-la-ji-hui-shou">7. 避免垃圾回收</h2>
<p>Node（V8）使用一个懒惰、贪婪的垃圾回收。它默认被限制在大约 1.5 GB。
在回收无用内存前，它有时会等待，直到它彻底回收这些无用内存。如果你的内存使用不断增加，
它可能不是内存泄漏，反而是 <a href="https://github.com/nodejs/node/issues/3370#issuecomment-148108323">node 通常的懒惰行为</a>。</p>
<p>要想对你应用的垃圾回收获得更多的控制，你可以在你的 <code>Procfile</code> 文件中给 V8 添加一些标志：</p>
<pre style="background-color:#282a36;">
<span style="color:#f8f8f2;">web: node --optimize_for_size --max_old_space_size=920 --gc_interval=100 server.js
</span></pre>
<p>这个尤其重要，如果你的应用是运行在一个少于 1.5 GB 内存的环境上。
例如，你想要把 node 调整到一个 512 MB 的容器上，试试这个：</p>
<pre style="background-color:#282a36;">
<span style="color:#f8f8f2;">web: node --optimize_for_size --max_old_space_size=460 --gc_interval=100 server.js
</span></pre><h2 id="8-ba-shi-qing-lian-jie-qi-lai">8. 把事情链接起来</h2>
<p>Npm 的<a href="https://docs.npmjs.com/misc/scripts">生命周期脚本</a> 可以为自动化创建丰富的钩子。如果你需要在构建你的应用之前运行一些东西，
你可以使用 <code>preinstall</code> 脚本。如果想使用 grunt、gulp、browserify 或者 webpack 构建
assets 呢？那就使用 <code>postinstall</code> 脚本。</p>
<p>在 package.json 中：</p>
<pre style="background-color:#282a36;">
<span style="color:#eeeeee;">&quot;</span><span style="color:#f1fa8c;">scripts</span><span style="color:#eeeeee;">&quot;</span><span style="color:#f8f8f2;">: {
  </span><span style="color:#eeeeee;">&quot;</span><span style="color:#cfcfc2;">postinstall</span><span style="color:#eeeeee;">&quot;</span><span style="color:#f8f8f2;">: </span><span style="color:#f1fa8c;">&quot;bower install &amp;&amp; grunt build&quot;</span><span style="color:#f8f8f2;">,
  </span><span style="color:#eeeeee;">&quot;</span><span style="color:#cfcfc2;">start</span><span style="color:#eeeeee;">&quot;</span><span style="color:#f8f8f2;">: </span><span style="color:#f1fa8c;">&quot;nf start&quot;
</span><span style="color:#f8f8f2;">}
</span></pre>
<p>你也可以使用环境变量去控制这些脚本：</p>
<pre style="background-color:#282a36;">
<span style="color:#eeeeee;">&quot;</span><span style="color:#f1fa8c;">postinstall</span><span style="color:#eeeeee;">&quot;</span><span style="color:#f8f8f2;">: </span><span style="color:#eeeeee;">&quot;</span><span style="color:#f1fa8c;">if $BUILD_ASSETS; then npm run build-assets; fi</span><span style="color:#eeeeee;">&quot;</span><span style="color:#f8f8f2;">,
</span><span style="color:#eeeeee;">&quot;</span><span style="color:#f1fa8c;">build-assets</span><span style="color:#eeeeee;">&quot;</span><span style="color:#f8f8f2;">: </span><span style="color:#eeeeee;">&quot;</span><span style="color:#f1fa8c;">bower install &amp;&amp; grunt build</span><span style="color:#eeeeee;">&quot;
</span></pre>
<p>如果你的脚本想在外面进行控制的话，把它们移到相应的文件：</p>
<pre style="background-color:#282a36;">
<span style="color:#eeeeee;">&quot;</span><span style="color:#f1fa8c;">postinstall</span><span style="color:#eeeeee;">&quot;</span><span style="color:#f8f8f2;">: </span><span style="color:#eeeeee;">&quot;</span><span style="color:#f1fa8c;">scripts/postinstall.sh</span><span style="color:#eeeeee;">&quot;
</span></pre>
<p>由于 <code>./node_modules/.bin</code> 会被自动添加到环境变量 <code>PATH</code> 上，在 package.json 中的脚本
会从上面去寻找，所以你可以直接执行它们，就像 <code>bower</code> 或者 <code>wepack</code>。</p>
<h2 id="9-jin-git-zhong-yao-de-bu-fen">9. 仅 git 重要的部分</h2>
<p>大多数的应用是由必要的文件和生成文件组成。当使用一个版本控制系统像 git 时，你应该避免对生成的
任何文件都进行追踪。</p>
<p>例如，你的 node 应用可能会有一个 <code>node_modules</code> 依赖目录，这个你应该<a href="https://docs.npmjs.com/misc/faq#should-i-check-my-node-modules-folder-into-git">避免 git 控制</a>。
只要每个依赖都列在 package.json 文件中，任何人都可以创建一个你的应用的工作副本，包括
<code>node_modules</code> － 在运行 <code>npm install</code> 后。</p>
<p>追踪这些生成文件，将会导致你的 git 历史充斥着无用的声音和臃肿。这是非常糟糕的，自从有些依赖是
原生并且需要被编译时，检查它们将使你的应用缺少便捷性，因为你将需要提供多个编译版本，
但却只从一个、可能是不正确的环境中生成。</p>
<p>同样的原因，你也不应该检查 <code>bower_components</code> 或者由 grunt 编译生成的 assets。</p>
<p>如果你之前已经不慎检查了 <code>node_modules</code> 目录，没关系，你可以删掉它，像这样：</p>
<pre style="background-color:#282a36;">
<span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> echo </span><span style="color:#f1fa8c;">&#39;node_modules&#39; </span><span style="color:#ff79c6;">&gt;&gt;</span><span style="color:#f8f8f2;"> .gitignore
</span><span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> git rm</span><span style="font-style:italic;color:#ffb86c;"> -r --cached</span><span style="color:#f8f8f2;"> node_modules
</span><span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> git commit</span><span style="font-style:italic;color:#ffb86c;"> -am </span><span style="color:#f1fa8c;">&#39;ignore node_modules&#39;
</span></pre>
<p>我也忽略了 npm 的 logs 文件，所以它们不会搞乱我的代码：</p>
<pre style="background-color:#282a36;">
<span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> echo </span><span style="color:#f1fa8c;">&#39;npm-debug.log&#39; </span><span style="color:#ff79c6;">&gt;&gt;</span><span style="color:#f8f8f2;"> .gitignore
</span><span style="color:#50fa7b;">$</span><span style="color:#f8f8f2;"> git commit</span><span style="font-style:italic;color:#ffb86c;"> -am </span><span style="color:#f1fa8c;">&#39;ignore npm-debug&#39;
</span></pre>
<p>忽略了这些无用的文件，你的仓库将会更加的小，你的提交将会更加简单，
并且你将避免合并这些因生成目录而导致的分歧。</p>
<h2 id="10-jian-yue">10. 简约</h2>
<p>技术预测是不准确的，但我还是会预测下即将到来的一年，2016 将是 JavaScript 简化的一年。</p>
<p>越来越多的开发者正在简化它们的架构。为替换庞大的 MVCs 框架，他们正在使用<a href="https://medium.com/swlh/scaling-on-the-cheap-933e46944886#.2lvubkyhm">静态化的前端构建项目</a>，
这样可以部署在 CDN 上，且使用一个 Node.js API 提供动态数据。</p>
<p>我们也开始看到了复杂的构建系统对我们项目的阻力。一些前沿的开发者正在简化他们的构建系统。例如，
使用一个 <code>vanilla</code> 构建系统，没有 <a href="https://medium.com/@tarkus/you-might-not-need-gulp-js-89a0220487dd#.etiox78kw">bower、gulp 或者 grunt</a>。</p>
<p>最终，我们将简化我们的代码在 2016。有时，这来自删除功能，
就像 <a href="https://www.youtube.com/watch?v=bo36MrBfTk4">Douglas Crockford's &quot;The Better Parts&quot;</a>。
其他，这来自添加功能 － 就像我喜欢的 callback 的替代物 <a href="https://thomashunter.name/blog/the-long-road-to-asyncawait-in-javascript/">async-await</a>。
Async-await 在 Node 中还不能用，但今天你可以借助牛逼的 <a href="http://babeljs.io/docs/usage/cli/#babel-node">Babeljs</a> 项目使用它。</p>
<p>不要把看到那么多工具和框架一次性都挤进你的项目，试着去简化你的工作。</p>
<h2 id="ni-de-xi-guan-shi-shi-yao">你的习惯是什么？</h2>
<p>我试着在我的所有项目中遵从这些习惯。不管你是 <a href="https://devcenter.heroku.com/articles/getting-started-with-nodejs#introduction">node 新人</a>还是服务端 JS 老手，我确定你会为
自己开发一些技巧。我们非常欢迎听到它们！使用 <a href="https://twitter.com/search?f=tweets&amp;vertical=default&amp;q=%23node_habits&amp;src=typd">#node_habits</a> 标签，分享你的习惯！</p>
<p>Happy hacking!</p>
<p>本文由 fundon 翻译，未经许可，不得转载。</p>

  </div>
</article>

    </main>

    <footer class="footer">
      <div class="container">
        <div class="heart">
          Made with&nbsp;&nbsp; <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" shape-rendering="geometricPrecision" style="color:var(--geist-foreground);--geist-fill:currentColor;--geist-stroke:var(--geist-background)">
  <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" fill="var(--geist-fill)"/>
</svg>&nbsp;&nbsp; © Fangdun Cai  2019
        </div>
        <div class="power">
          Powered By <a href="https://www.getzola.org/">Zola</a> & <a href="https://zeit.co/">Zeit</a> & <a href="https://zeit.co/design">Design</a>
        </div>
      </div>
    </footer>

    <script>
      document.querySelector('button.toggle').onclick = toggle
    </script>
  </body>
</html>
