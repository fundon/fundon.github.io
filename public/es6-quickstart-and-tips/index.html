<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ES6 QuickStart and Tips - 锈出未来</title>
    <meta name="author" content="Fangdun Cai" />
    <meta name="description" content="ES6: 快速体验，及实用小贴士" />
    <meta property="og:title" content="ES6 QuickStart and Tips - 锈出未来" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="ES6: 快速体验，及实用小贴士" />
    <meta property="og:url" content="https:&#x2F;&#x2F;fundon.me&#x2F;es6-quickstart-and-tips&#x2F;" />
    <meta property="og:image" content="https://fundon.me/joshua-alan-davis-l4Xy2d8M-Xs-unsplash.jpg" />
    <meta name="twitter:title" content="ES6 QuickStart and Tips - 锈出未来">
    <meta name="twitter:description" content="ES6: 快速体验，及实用小贴士">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@_fundon">
    <meta name="twitter:creator" content="@_fundon">
    <meta name="twitter:image" content="https:&#x2F;&#x2F;fundon.me&#x2F;joshua-alan-davis-l4Xy2d8M-Xs-unsplash.jpg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link
      rel="stylesheet"
      href="https://unpkg.com/minireset.css@0.0.6/minireset.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/firacode@2.0.0/distr/fira_code.css"
    />
    <link rel="stylesheet" href="https:&#x2F;&#x2F;fundon.me&#x2F;index.css" />
    <link rel='alternate' type='application/rss+xml' href="https:&#x2F;&#x2F;fundon.me&#x2F;rss.xml" />
  </head>
  <body>
  <script async="">
      function toggle() {
        let classList = document.querySelector('html').classList;
        if (classList.contains('dark-theme')) {
          classList.remove('dark-theme')
          classList.add('sepia-theme')
          localStorage.setItem('theme-mode', 'sepia')
        } else if (classList.contains('sepia-theme')) {
          classList.remove('sepia-theme')
          localStorage.removeItem('theme-mode')
        } else {
          classList.add('dark-theme')
          localStorage.setItem('theme-mode', 'dark')
        }
      }
      try {
        let mode = localStorage.getItem('theme-mode');
        if (mode) {
          document.querySelector('html').classList.add(`${mode}-theme`)
        }
      } catch (e) {}
    </script>
    <nav class="navbar">
      <div class="container">
        <div class="navbar-brand">
          <a class="logo" href="https:&#x2F;&#x2F;fundon.me">
            <img src="https:&#x2F;&#x2F;fundon.me&#x2F;logo.png" />
          </a>
        </div>
        <ul class="social">
          <li>
            <a href="https://github.com/fundon">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0020 4.77 5.07 5.07 0 0019.91 1S18.73.65 16 2.48a13.38 13.38 0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 005 4.77a5.44 5.44 0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 009 18.13V22"/>
</svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/_fundon">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/>
</svg>
            </a>
          </li>
          <li>
            <a href="mailto:cfddream@gmail.com">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
  <path d="M22 6l-10 7L2 6"/>
</svg>
            </a>
          </li>
          <li>
            <a href="https:&#x2F;&#x2F;fundon.me&#x2F;tags&#x2F;">
               <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/>
  <path d="M7 7h.01"/>
</svg>
            </a>
          </li>
          <li>
            <a href="https:&#x2F;&#x2F;fundon.me&#x2F;rss.xml">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M4 11a9 9 0 019 9"/>
  <path d="M4 4a16 16 0 0116 16"/>
  <circle cx="5" cy="19" r="1"/>
</svg>
            </a>
          </li>
          <li>
            <button class="toggle">
              <span class="sun">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <circle cx="12" cy="12" r="5"/>
  <path d="M12 1v2"/>
  <path d="M12 21v2"/>
  <path d="M4.22 4.22l1.42 1.42"/>
  <path d="M18.36 18.36l1.42 1.42"/>
  <path d="M1 12h2"/>
  <path d="M21 12h2"/>
  <path d="M4.22 19.78l1.42-1.42"/>
  <path d="M18.36 5.64l1.42-1.42"/>
</svg>
              </span>
              <span class="moon">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
</svg>
              </span>
              <span class="coffee">
               <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision">
  <path d="M18 8h1a4 4 0 010 8h-1"/>
  <path d="M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8z"/>
  <path d="M6 1v3"/>
  <path d="M10 1v3"/>
  <path d="M14 1v3"/>
</svg>
              </span>
            </button>
          </li>
        </ul>
      </div>
    </nav>

    <header class="header">
      <div class="container">
        <h1 class="header-title">ES6 QuickStart and Tips</h1>
        <div class="header-meta">
          <span class="header-meta-author">Fangdun Cai</span>
           
  <time class="header-meta-date">
    September 15th, 2016
  </time>

        </div>
         
  
  <ul class="header-meta-tags">  
    
    <li>
      <a href="https://fundon.me/tags/node/">Node</a>&nbsp;
    </li>
    
    <li>
      <a href="https://fundon.me/tags/javascript/">JavaScript</a>&nbsp;
    </li>
    
  </ul>
  

      </div>
    </header>

    <main class="content container">
      
<article class="post">
  <div class="post-content">
    <p class="post-description">
      ES6: 快速体验，及实用小贴士
    </p>
    <blockquote>
<p>2016 年是 ES6 大力推广和普及的黄金时期，也是今年的流行趋势，
就一个 <a href="https://github.com/search?o=desc&amp;q=ES6&amp;s=stars&amp;type=Repositories&amp;utf8=%E2%9C%93">ES6</a> 关键词，
在 GitHub 上就有这么多搜索结果。（赶紧跟上大部队！）</p>
</blockquote>
<p><img src="https://github.com/fundon/ES6-QuickStart-and-Tips/blob/master/images/github-search-results.png?raw=true" alt="It's very hot!" /></p>
<h2 id="jian-jie">简介</h2>
<p>ES6 是 <strong>ECMAScript 6</strong> 的简称，是 <a href="http://www.ecma-international.org/ecma-262/6.0/index.html">ECMA-262 的第 6 版本</a>。</p>
<ul>
<li>
<p>ES5、ES2015 / ES6、ES2016 / ES7、ES2017 / ES8 这些关键词具体代表什么？</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/New_in_JavaScript/ECMAScript_5_support_in_Mozilla">ES5</a> 发布于 2009 年。</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/New_in_JavaScript/ECMAScript_6_support_in_Mozilla">ES6</a>，比起 ES5，是第一个大版本更新，在 2015-06 发布，所以又称 ES2015。</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/New_in_JavaScript/ECMAScript_Next_support_in_Mozilla">ES7 和 ES8</a> 统称为 ECMAScript Next。</p>
<p><a href="http://www.ecma-international.org/ecma-262/7.0/index.html">ES7</a> 在 2016-06 发布，又称 ES2016。</p>
<p>ES8 在 2017-06 发布，又称 ES2017。</p>
</li>
<li>
<p>ECMAScript 与 JavaScript 有什么关系？</p>
<p>前者是后者的语言标准，后者是前者的一个实现。</p>
</li>
<li>
<p>ES6 在浏览器，Node.js 支持如何，适不适合开发，生产？</p>
<ul>
<li>
<p>浏览器： <a href="http://kangax.github.io/compat-table/es6/">ECMAScript 兼容列表</a></p>
</li>
<li>
<p>Node.js：<a href="http://node.green">ES2015 Support</a></p>
</li>
<li>
<p>工具：使用一些转换工具，可以把 ES6 =&gt; ES5</p>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<p>为什么要学习新语法？</p>
<p>当前很多库、框架、工具都在使用 <strong>ES6+</strong> 进行开发，典型的就是 React 和 Vue，使用新语法特性的优势进行快速开发，然后使用转换构建工具部署生产代码。</p>
</li>
</ul>
<h2 id="es6-xin-te-xing">ES6 新特性</h2>
<ul>
<li>
<p>Arrows and Lexical This</p>
<p>「箭头」函数（<code>=&gt;</code>）和 <code>this</code>：</p>
<blockquote>
<p>使用「箭头」函数我们可以体验函数式编程的”美”，高效、简洁，当然也要注意上下文 <code>this</code>。</p>
</blockquote>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#50fa7b;">sum </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#8be9fd;">function</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">a</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">b</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">+ </span><span style="color:#ffffff;">b
</span><span style="color:#ffffff;">}
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#50fa7b;">sum </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">a</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">b</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">+ </span><span style="color:#ffffff;">b
</span></pre></li>
<li>
<p>猜猜猜</p>
<ol start="0">
<li><em>a.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">PI </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">3.14

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#50fa7b;">c </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#ffb86c;">r </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#bd93f9;">2 </span><span style="color:#ff79c6;">* </span><span style="color:#ffffff;">PI </span><span style="color:#ff79c6;">* </span><span style="color:#ffffff;">r

</span><span style="color:#6272a4;">// c(2) = ?
</span></pre>
<ol start="0">
<li><em>b.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">PI </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">3.14

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">circle </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  PI: </span><span style="color:#bd93f9;">3.14159</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">c</span><span style="color:#f8f8f2;">: </span><span style="font-style:italic;color:#ffb86c;">r </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#bd93f9;">2 </span><span style="color:#ff79c6;">* </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">PI </span><span style="color:#ff79c6;">* </span><span style="color:#ffffff;">r
</span><span style="color:#ffffff;">}

</span><span style="color:#6272a4;">// circle.c(2) = ?
</span></pre>
<ol start="0">
<li><em>c.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">PI </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">3.14

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">circle </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  PI: </span><span style="color:#bd93f9;">3.14159</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">c</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">r</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#bd93f9;">2 </span><span style="color:#ff79c6;">* </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">PI </span><span style="color:#ff79c6;">* </span><span style="color:#ffffff;">r
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="color:#6272a4;">// circle.c(2) = ?
</span></pre></li>
</ul>
</li>
<li>
<p>Classes</p>
<p>类：</p>
<blockquote>
<p>基于原型链的语法糖，简单、清晰；面向对象编程更加轻松。<br />
再也不会被其他语言吐槽了！</p>
</blockquote>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">Cat</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">voice </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;miao&#39;
</span><span style="color:#ffffff;">}
</span><span style="font-style:italic;color:#66d9ef;">Cat</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">prototype</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">speak </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#8be9fd;">function</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">voice)
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">Lion</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">voice </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;roar&#39;
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#66d9ef;">Lion</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">prototype </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#66d9ef;">Cat</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">prototype

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">c </span><span style="color:#ff79c6;">= new </span><span style="color:#f8f8f2;">Cat()
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">l </span><span style="color:#ff79c6;">= new </span><span style="color:#f8f8f2;">Lion()
</span><span style="color:#ffffff;">c</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">speak</span><span style="color:#f8f8f2;">()
</span><span style="color:#ffffff;">l</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">speak</span><span style="color:#f8f8f2;">()
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="font-style:italic;color:#ff79c6;">class </span><span style="text-decoration:underline;color:#8be9fd;">Cat </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">constructor</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">voice </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;miao&#39;
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">speak</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">voice)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#ff79c6;">class </span><span style="text-decoration:underline;color:#8be9fd;">Lion </span><span style="color:#ff79c6;">extends </span><span style="text-decoration:underline;font-style:italic;color:#8be9fd;">Cat </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">constructor</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#bd93f9;">super</span><span style="color:#f8f8f2;">()

</span><span style="color:#f8f8f2;">    </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">voice </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;roar&#39;
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">c </span><span style="color:#ff79c6;">= new </span><span style="color:#f8f8f2;">Cat()
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">l </span><span style="color:#ff79c6;">= new </span><span style="color:#f8f8f2;">Lion()
</span><span style="color:#ffffff;">c</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">speak</span><span style="color:#f8f8f2;">()
</span><span style="color:#ffffff;">l</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">speak</span><span style="color:#f8f8f2;">()
</span></pre></li>
<li>
<p>猜猜猜</p>
<ol start="0">
<li><em>cat.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#ff79c6;">class </span><span style="text-decoration:underline;color:#8be9fd;">Cat </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">constructor</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">voice </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;miao&#39;
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">speak</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">voice)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">static </span><span style="color:#50fa7b;">type</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="font-style:italic;color:#66d9ef;">Cat</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">name</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">toLowercase</span><span style="color:#f8f8f2;">()
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="color:#6272a4;">// Cat.prototype= ?
</span></pre>
<ol start="0">
<li><em>getters-setters.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#ff79c6;">class </span><span style="text-decoration:underline;color:#8be9fd;">Cat </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">constructor</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">options</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">voice </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;miao&#39;
</span><span style="color:#f8f8f2;">    </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">options </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">options </span><span style="color:#ff79c6;">|| </span><span style="color:#ffffff;">{}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">speak</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">voice)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">get </span><span style="color:#50fa7b;">name</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">options</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">name
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">set </span><span style="color:#50fa7b;">name</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">name</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">options</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">name </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">name
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">= new </span><span style="color:#f8f8f2;">Cat(</span><span style="color:#ffffff;">{ </span><span style="color:#f8f8f2;">name: </span><span style="color:#f1fa8c;">&#39;Garfield&#39; </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span><span style="color:#6272a4;">// a.name ?
</span><span style="color:#6272a4;">// a.name = &#39;Tom&#39;
</span><span style="color:#6272a4;">// a.name ?
</span></pre>
<ol start="0">
<li><em><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes">mixins.js</a></em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#50fa7b;">CalculatorMixin </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#ffb86c;">Base </span><span style="font-style:italic;color:#8be9fd;">=&gt;
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#ff79c6;">class </span><span style="color:#ff79c6;">extends </span><span style="text-decoration:underline;font-style:italic;color:#8be9fd;">Base </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#50fa7b;">calc</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#50fa7b;">RandomizerMixin </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#ffb86c;">Base </span><span style="font-style:italic;color:#8be9fd;">=&gt;
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#ff79c6;">class </span><span style="color:#ff79c6;">extends </span><span style="text-decoration:underline;font-style:italic;color:#8be9fd;">Base </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#50fa7b;">randomize</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#ff79c6;">class </span><span style="text-decoration:underline;color:#8be9fd;">Foo </span><span style="color:#ffffff;">{}
</span><span style="font-style:italic;color:#ff79c6;">class </span><span style="text-decoration:underline;color:#8be9fd;">Bar </span><span style="color:#ff79c6;">extends </span><span style="color:#50fa7b;">CalculatorMixin</span><span style="color:#f8f8f2;">(</span><span style="color:#50fa7b;">RandomizerMixin</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">Foo</span><span style="color:#f8f8f2;">)) </span><span style="color:#ffffff;">{}

</span><span style="color:#6272a4;">// Bar.prototype ?
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Enhanced Object Literals</p>
<p>改进对象声明：</p>
<blockquote>
<p>大大减少了代码量，创建对象更加简洁。</p>
</blockquote>
<ul>
<li>
<p>属性缩写</p>
</li>
<li>
<p>函数缩写</p>
</li>
<li>
<p>属性名计算</p>
</li>
</ul>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">1
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">b </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">2
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">c </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">3

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">o </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  a: </span><span style="color:#ffffff;">a</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">  b: </span><span style="color:#ffffff;">b
</span><span style="color:#f8f8f2;">  c: </span><span style="color:#ffffff;">c</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">d</span><span style="color:#f8f8f2;">: </span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">a </span><span style="color:#ff79c6;">+ </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">b </span><span style="color:#ff79c6;">+ </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">c
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">o </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">a</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">b</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">c</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">d</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">a </span><span style="color:#ff79c6;">+ </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">b </span><span style="color:#ff79c6;">+ </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">c
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}
</span></pre></li>
<li>
<p>猜猜猜</p>
<ol start="0">
<li><em>returns.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#50fa7b;">generate </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">name</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">age</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">{ name</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">age }</span><span style="color:#f8f8f2;">)

</span><span style="color:#6272a4;">// generate(&#39;github&#39;, 5) ?
</span></pre>
<ol start="0">
<li><em>cumputed-properties.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#50fa7b;">create </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">path</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">verb</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">path</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">verb</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">    [</span><span style="color:#f1fa8c;">&#39;is&#39; </span><span style="color:#ff79c6;">+ </span><span style="color:#ffffff;">verb</span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">]</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">toUpperCase</span><span style="color:#f8f8f2;">() </span><span style="color:#ff79c6;">+ </span><span style="color:#ffffff;">verb</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">substring</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">)]: </span><span style="color:#bd93f9;">true
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="color:#6272a4;">// create(&#39;/&#39;, &#39;get&#39;) ?
</span></pre>
<ol start="0">
<li><em>complicated.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#f8f8f2;">path </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;/&#39;
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">verb </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;get&#39;
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="font-style:italic;color:#66d9ef;">root </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">path</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">verb
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">route </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">root
</span><span style="color:#ffffff;">}
</span></pre></li>
</ul>
</li>
<li>
<p>Template Strings</p>
<p>模板字符串：</p>
<blockquote>
<p>终于可以舒服的写多行字符串了，这功能等到花儿都谢了！</p>
</blockquote>
<ul>
<li>
<p>支持多行</p>
</li>
<li>
<p>支持变量绑定</p>
</li>
<li>
<p>也支持对字符串不转义，不解析</p>
</li>
</ul>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">first </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">1
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">second </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">2
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">third </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">3

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">str </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;No.&#39; </span><span style="color:#ff79c6;">+ </span><span style="color:#ffffff;">first </span><span style="color:#ff79c6;">+ </span><span style="color:#f1fa8c;">&#39;</span><span style="color:#ff79c6;">\n</span><span style="color:#f1fa8c;">&#39; </span><span style="color:#ff79c6;">+ </span><span style="color:#f1fa8c;">&#39;No.&#39; </span><span style="color:#ff79c6;">+ </span><span style="color:#ffffff;">second </span><span style="color:#ff79c6;">+ </span><span style="color:#f1fa8c;">&#39;</span><span style="color:#ff79c6;">\n</span><span style="color:#f1fa8c;">&#39; </span><span style="color:#ff79c6;">+ </span><span style="color:#f1fa8c;">&#39;No.&#39; </span><span style="color:#ff79c6;">+ </span><span style="color:#ffffff;">third
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">first </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">1
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">second </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">2
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">third </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">3

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">str </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">`No. </span><span style="color:#f8f8f2;">${</span><span style="color:#ffffff;">first</span><span style="color:#f8f8f2;">}
</span><span style="color:#f1fa8c;">No. </span><span style="color:#f8f8f2;">${</span><span style="color:#ffffff;">second</span><span style="color:#f8f8f2;">}
</span><span style="color:#f1fa8c;">No. </span><span style="color:#f8f8f2;">${</span><span style="color:#ffffff;">third</span><span style="color:#f8f8f2;">}
</span><span style="color:#f1fa8c;">`
</span></pre></li>
<li>
<p>猜猜猜</p>
<ol start="0">
<li><em>raw-tag.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">t0 </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">`In ES5 &quot;</span><span style="color:#ff79c6;">\n</span><span style="color:#f1fa8c;">&quot; is a line-feed.`
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">t1 </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#66d9ef;">String</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">raw</span><span style="color:#f1fa8c;">`In ES5 &quot;</span><span style="color:#ff79c6;">\n</span><span style="color:#f1fa8c;">&quot; is a line-feed.`

</span><span style="color:#6272a4;">// console.log(t0)
</span><span style="color:#6272a4;">// console.log(t1)
</span></pre>
<ol start="0">
<li><em>expression.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">5
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">b </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">10

</span><span style="color:#6272a4;">// console.log(&quot;Fifteen is &quot; + (a + b) + &quot; and\nnot &quot; + (2 * a + b) + &quot;.&quot;)
</span><span style="color:#6272a4;">// console.log(`Fifteen is ${a + b} and\nnot ${2 * a + b}.`)
</span></pre>
<ol start="0">
<li><em>custom-tag.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#50fa7b;">generatePath </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">strings</span><span style="color:#f8f8f2;">, </span><span style="color:#ff79c6;">...</span><span style="font-style:italic;color:#ffb86c;">values</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">strings</span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">] </span><span style="color:#ff79c6;">+ </span><span style="color:#ffffff;">values</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">reduce</span><span style="color:#f8f8f2;">((</span><span style="font-style:italic;color:#ffb86c;">prev</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">curr</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#f1fa8c;">`</span><span style="color:#f8f8f2;">${</span><span style="color:#ffffff;">prev</span><span style="color:#f8f8f2;">}</span><span style="color:#f1fa8c;">/</span><span style="color:#f8f8f2;">${</span><span style="color:#ffffff;">curr</span><span style="color:#f8f8f2;">}</span><span style="color:#f1fa8c;">`</span><span style="color:#f8f8f2;">, </span><span style="color:#f1fa8c;">&#39;&#39;</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">user </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;user&#39;
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">id </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;233&#39;
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">profile </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;profile&#39;
</span><span style="color:#6272a4;">// generatePath`GET: ${user}${id}${profile}`
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Destructuring</p>
<p>解析赋值</p>
<blockquote>
<p>可以轻松获取对象、数组等的元素，并赋值到指定变量</p>
</blockquote>
<ul>
<li>Array ArrayLike Object 等，具有迭代器接口的对象</li>
</ul>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">arr </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">]

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">a0 </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">arr</span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">]
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">a1 </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">arr</span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">]
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">a2 </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">arr</span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">]

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">obj </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  name: </span><span style="color:#f1fa8c;">&#39;github&#39;</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">  age: </span><span style="color:#bd93f9;">5
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">name </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">obj</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">name
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">age </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">obj</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">age
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">arr </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">]

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">a0</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">a1</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">a2</span><span style="color:#f8f8f2;">] </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">arr

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">obj </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  name: </span><span style="color:#f1fa8c;">&#39;github&#39;</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">  age: </span><span style="color:#bd93f9;">5
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">{ name</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">age } </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">obj
</span></pre></li>
<li>
<p>猜猜猜</p>
<ol start="0">
<li><em>print.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#50fa7b;">print </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">{ </span><span style="font-style:italic;color:#ffb86c;">name</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">age </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">name</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">age</span><span style="color:#f8f8f2;">)

</span><span style="color:#6272a4;">// print({ name: &#39;ES6&#39;, age: 2015 }) ?
</span></pre>
<ol start="0">
<li><em>alias.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">js </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{ </span><span style="color:#f8f8f2;">name: </span><span style="color:#f1fa8c;">&#39;ES6&#39;</span><span style="color:#f8f8f2;">, age: </span><span style="color:#bd93f9;">2015 </span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">{ </span><span style="color:#f8f8f2;">name: </span><span style="color:#ffffff;">es</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">age } </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">js
</span><span style="color:#6272a4;">// name, es, age?
</span></pre>
<ol start="0">
<li><em>defaults.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">js </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{ </span><span style="color:#f8f8f2;">name: </span><span style="color:#f1fa8c;">&#39;ES6&#39;</span><span style="color:#f8f8f2;">, age: </span><span style="color:#bd93f9;">2015 </span><span style="color:#ffffff;">}
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">date </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">2015</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">9</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">14</span><span style="color:#f8f8f2;">]

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">{ version </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;6&#39; </span><span style="color:#ffffff;">} </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">js
</span><span style="color:#6272a4;">// version ?

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">{ </span><span style="color:#f8f8f2;">fullname: </span><span style="color:#ffffff;">f </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;ECMAScript 6&#39; </span><span style="color:#ffffff;">} </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">js
</span><span style="color:#6272a4;">// fullname, f ?

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">y</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">m</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">d</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">h </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">9</span><span style="color:#f8f8f2;">] </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">date
</span><span style="color:#6272a4;">// y, m, d, h ?
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Default + Rest + Spread</p>
<p>默认值、余下参数（Rest），数组展开（Spread）</p>
<ul>
<li>
<p>默认值： 减少了对输入参数的检查的代码量，即可读又简洁</p>
</li>
<li>
<p>Rest：对参数数组操作更加灵活</p>
</li>
<li>
<p>Spread：可以看作是 Rest 的反操作，更加方便对数组的操作</p>
</li>
</ul>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">bar</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">a</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">|| </span><span style="color:#bd93f9;">5
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">sum</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">a</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">|| </span><span style="color:#bd93f9;">5
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">l </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">arguments</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">length
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">1
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(; </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">&lt; </span><span style="color:#ffffff;">l</span><span style="color:#f8f8f2;">; </span><span style="color:#ff79c6;">++</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">+= </span><span style="color:#bd93f9;">arguments</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">]
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">a
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">apply</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">fn</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{}
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">l </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">arguments</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">length
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">args </span><span style="color:#ff79c6;">= new </span><span style="font-style:italic;color:#66d9ef;">Array</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">l</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">; </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">&lt; </span><span style="color:#ffffff;">l</span><span style="color:#f8f8f2;">; </span><span style="color:#ff79c6;">++</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">args</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">] </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">arguments</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">]
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">fn</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">apply</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">null</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">args</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">bar</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">a </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">5</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{}

</span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">sum</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">a </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">5</span><span style="color:#f8f8f2;">, </span><span style="color:#ff79c6;">...</span><span style="font-style:italic;color:#ffb86c;">args</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">l </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">args</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">length
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(; </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">&lt; </span><span style="color:#ffffff;">l</span><span style="color:#f8f8f2;">; </span><span style="color:#ff79c6;">++</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">+= </span><span style="color:#ffffff;">args</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">]
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">a
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">apply</span><span style="color:#f8f8f2;">(</span><span style="color:#ff79c6;">...</span><span style="font-style:italic;color:#ffb86c;">args</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">fn</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">fn</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">apply</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">null</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">args</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}
</span></pre></li>
<li>
<p>猜猜猜</p>
<ol start="0">
<li><em>string.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">str </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;1234567890&#39;

</span><span style="color:#6272a4;">// [...str] ?
</span></pre>
<ol start="0">
<li><em>concat.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">]
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">b </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">6</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">5</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">]

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">c </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">[</span><span style="color:#ff79c6;">...</span><span style="color:#ffffff;">a</span><span style="color:#f8f8f2;">, </span><span style="color:#ff79c6;">...</span><span style="color:#ffffff;">b</span><span style="color:#f8f8f2;">]
</span><span style="color:#6272a4;">// c ?
</span></pre>
<ol start="0">
<li><em>parse-args.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">/**
</span><span style="color:#6272a4;"> * 解析参数，返回特定格式
</span><span style="color:#6272a4;"> *
</span><span style="color:#6272a4;"> * @return {Array} [arr, options, cb]
</span><span style="color:#6272a4;"> */

</span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">parseArgs</span><span style="color:#f8f8f2;">(</span><span style="color:#ff79c6;">...</span><span style="font-style:italic;color:#ffb86c;">args</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">last </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">args</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">args</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">length </span><span style="color:#ff79c6;">- </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">]
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">type </span><span style="color:#ff79c6;">= typeof </span><span style="color:#ffffff;">last
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">opts
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">cb

</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;function&#39; </span><span style="color:#ff79c6;">=== </span><span style="color:#ffffff;">type</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">cb </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">args</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">pop</span><span style="color:#f8f8f2;">()
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;object&#39; </span><span style="color:#ff79c6;">=== typeof </span><span style="color:#ffffff;">args</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">args</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">length </span><span style="color:#ff79c6;">- </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">]) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">      </span><span style="color:#ffffff;">opts </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">args</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">pop</span><span style="color:#f8f8f2;">()
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">} </span><span style="color:#ff79c6;">else if </span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;object&#39; </span><span style="color:#ff79c6;">=== </span><span style="color:#ffffff;">type </span><span style="color:#ff79c6;">&amp;&amp; !</span><span style="font-style:italic;color:#66d9ef;">Array</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">isArray</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">last</span><span style="color:#f8f8f2;">)) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">opts </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">args</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">pop</span><span style="color:#f8f8f2;">()
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">} </span><span style="color:#ff79c6;">else if </span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;undefined&#39; </span><span style="color:#ff79c6;">=== </span><span style="color:#ffffff;">type</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">args</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">pop</span><span style="color:#f8f8f2;">()
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#50fa7b;">parseArgs</span><span style="color:#f8f8f2;">(</span><span style="color:#ff79c6;">...</span><span style="color:#ffffff;">args</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#66d9ef;">Array</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">isArray</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">args</span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">])) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">args </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">args</span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">]
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">return </span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">args</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">opts </span><span style="color:#ff79c6;">|| </span><span style="color:#ffffff;">{}</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">cb</span><span style="color:#f8f8f2;">]
</span><span style="color:#ffffff;">}

</span><span style="color:#6272a4;">// parseArgs(&#39;users&#39;) ?
</span><span style="color:#6272a4;">// parseArgs(&#39;users&#39;, {}) ?
</span><span style="color:#6272a4;">// parseArgs(&#39;users&#39;, () =&gt; {}) ?
</span><span style="color:#6272a4;">// parseArgs(&#39;users&#39;, {}, () =&gt; {}) ?
</span><span style="color:#6272a4;">// parseArgs(&#39;users&#39;, &#39;books&#39;) ?
</span><span style="color:#6272a4;">// parseArgs([&#39;users&#39;, &#39;books&#39;]) ?
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Let + Const</p>
<p>变量、常量定义声明：</p>
<blockquote>
<p>当满世界都是 <code>var</code> 的时候，变量管理是个神坑！</p>
</blockquote>
<ul>
<li>
<p>块级作用域</p>
</li>
<li>
<p>const: 一次性声明</p>
</li>
</ul>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="color:#6272a4;">// 函数作用域下覆盖全局作用域
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">bar </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">1
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">bar </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">3
</span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">method</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">bar</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// undefined
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">bar </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">2
</span><span style="color:#ffffff;">}

</span><span style="color:#6272a4;">// 变量泄漏
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">s </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;hello&#39;
</span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">; </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">&lt; </span><span style="color:#ffffff;">s</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">length; </span><span style="color:#ffffff;">i</span><span style="color:#ff79c6;">++</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">s</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">])
</span><span style="color:#ffffff;">}
</span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// 5
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">bar0 </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">1
</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">bar1 </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">3

</span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">method</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">bar0</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">bar3 </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">2
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">s </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;hello&#39;
</span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">; </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">&lt; </span><span style="color:#ffffff;">s</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">length; </span><span style="color:#ffffff;">i</span><span style="color:#ff79c6;">++</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">s</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">])
</span><span style="color:#ffffff;">}
</span></pre></li>
<li>
<p>猜猜猜</p>
<ol start="0">
<li><em>global.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">1
</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">b </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">2
</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">c </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">3

</span><span style="color:#6272a4;">// this.a ?
</span><span style="color:#6272a4;">// this.b ?
</span><span style="color:#6272a4;">// this.c ?
</span></pre>
<ol start="0">
<li><em>for.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">s </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;hello&#39;
</span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">; </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">&lt; </span><span style="color:#ffffff;">s</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">length; </span><span style="color:#ffffff;">i</span><span style="color:#ff79c6;">++</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">s</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">])
</span><span style="color:#ffffff;">}
</span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// ?
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Iterators + For..Of</p>
<p>迭代器和 <code>for..of</code></p>
<blockquote>
<p>像 <code>[...arr]</code> 就是迭代器一个很好的例子。</p>
</blockquote>
<ul>
<li>
<p>可迭代协议：ES6 定义了一套统一的标准，允许对 JavaScript 对象自定义它们的迭代行为。</p>
</li>
<li>
<p>内置可迭代类型有 String，Array，TypedArray，Map，Set，因为在它们的原型对象上已经有了 <code>[Symbol.iterator]</code> 方法。</p>
</li>
</ul>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">arr </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">]

</span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">in </span><span style="color:#ffffff;">arr</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">arr </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">]

</span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">of </span><span style="color:#ffffff;">arr</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}
</span></pre></li>
<li>
<p>猜猜猜</p>
<ol start="0">
<li><em>for-loops.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#66d9ef;">Array</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">prototype</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">arrCustom </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#8be9fd;">function</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{}
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">arr </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">]
</span><span style="color:#ffffff;">arr</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">isArray </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">true

</span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">in </span><span style="color:#ffffff;">arr</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">}

</span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">of </span><span style="color:#ffffff;">arr</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">}
</span></pre>
<ol start="0">
<li><em>iterable.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">iterable </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  [</span><span style="font-style:italic;color:#66d9ef;">Symbol</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">iterator]() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">      i: </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">      </span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">        </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">          done: </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">i </span><span style="color:#ff79c6;">=== </span><span style="color:#bd93f9;">10</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">          value: </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">i</span><span style="color:#ff79c6;">++
</span><span style="color:#f8f8f2;">        </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">      </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">of </span><span style="color:#ffffff;">iterable</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">}

</span><span style="color:#6272a4;">// [...iterable] ?
</span></pre>
<ol start="0">
<li><em>iterator.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">iterable </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  [</span><span style="font-style:italic;color:#66d9ef;">Symbol</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">iterator]() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">      i: </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">      </span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">        </span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">done </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">i </span><span style="color:#ff79c6;">=== </span><span style="color:#bd93f9;">10
</span><span style="color:#f8f8f2;">        </span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">value </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">done </span><span style="color:#ff79c6;">? </span><span style="color:#bd93f9;">undefined </span><span style="color:#ff79c6;">: </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">i</span><span style="color:#ff79c6;">++
</span><span style="color:#f8f8f2;">        </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">{ done</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">value }
</span><span style="color:#f8f8f2;">      </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">iterator </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">iterable</span><span style="color:#f8f8f2;">[</span><span style="font-style:italic;color:#66d9ef;">Symbol</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">iterator]()

</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#6272a4;">// ...

</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">iterator2 </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">iterable</span><span style="color:#f8f8f2;">[</span><span style="font-style:italic;color:#66d9ef;">Symbol</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">iterator]()

</span><span style="color:#ffffff;">iterator2</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator2</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator2</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#6272a4;">// ...
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Generators</p>
<p>生成器：</p>
<blockquote>
<p>生成器大杀器！</p>
</blockquote>
<ul>
<li>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable">可迭代</a></p>
</li>
<li>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterator">遵循迭代器协议</a></p>
</li>
<li>
<p>可在单个函数内 <code>GeneratorFunction</code> 自定义迭代逻辑，可以替代迭代器，功能更强大</p>
</li>
<li>
<p>可中断</p>
</li>
</ul>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">iterable </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  [</span><span style="font-style:italic;color:#66d9ef;">Symbol</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">iterator]() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">      i: </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">      </span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">        </span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">done </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">i </span><span style="color:#ff79c6;">=== </span><span style="color:#bd93f9;">10
</span><span style="color:#f8f8f2;">        </span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">value </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">done </span><span style="color:#ff79c6;">? </span><span style="color:#bd93f9;">undefined </span><span style="color:#ff79c6;">: </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">i</span><span style="color:#ff79c6;">++
</span><span style="color:#f8f8f2;">        </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">{ done</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">value }
</span><span style="color:#f8f8f2;">      </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}
</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">iterator </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">iterable</span><span style="color:#f8f8f2;">[</span><span style="font-style:italic;color:#66d9ef;">Symbol</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">iterator]()
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="font-style:italic;color:#8be9fd;">function</span><span style="color:#ff79c6;">* </span><span style="color:#50fa7b;">generatable</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">l </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">10</span><span style="color:#f8f8f2;">; </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">&lt; </span><span style="color:#ffffff;">l</span><span style="color:#f8f8f2;">; </span><span style="color:#ff79c6;">++</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">yield </span><span style="color:#ffffff;">i
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}
</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">iterator </span><span style="color:#ff79c6;">= </span><span style="color:#50fa7b;">generatable</span><span style="color:#f8f8f2;">()
</span></pre></li>
<li>
<p>猜猜猜</p>
<ol start="0">
<li><em>generatable.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">function</span><span style="color:#ff79c6;">* </span><span style="color:#50fa7b;">generatable</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">l </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">10</span><span style="color:#f8f8f2;">; </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">&lt; </span><span style="color:#ffffff;">l</span><span style="color:#f8f8f2;">; </span><span style="color:#ff79c6;">++</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">yield </span><span style="color:#ffffff;">i
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}
</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">iterator </span><span style="color:#ff79c6;">= </span><span style="color:#50fa7b;">generatable</span><span style="color:#f8f8f2;">()

</span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">of </span><span style="color:#50fa7b;">generatable</span><span style="color:#f8f8f2;">()) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">}
</span><span style="color:#6272a4;">// [...generatable()] ?
</span></pre>
<ol start="0">
<li><em>next.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">function</span><span style="color:#ff79c6;">* </span><span style="color:#50fa7b;">range</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">min </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">max </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">10</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">step </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(; </span><span style="color:#ffffff;">min </span><span style="color:#ff79c6;">&lt; </span><span style="color:#ffffff;">max</span><span style="color:#f8f8f2;">; </span><span style="color:#ffffff;">min </span><span style="color:#ff79c6;">+= </span><span style="color:#ffffff;">step</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">rest </span><span style="color:#ff79c6;">= yield </span><span style="color:#ffffff;">min
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">rest</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">min </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">step </span><span style="color:#ff79c6;">* </span><span style="color:#bd93f9;">-1
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">iterator </span><span style="color:#ff79c6;">= </span><span style="color:#50fa7b;">range</span><span style="color:#f8f8f2;">()

</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">true</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?

</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">iterator2 </span><span style="color:#ff79c6;">= </span><span style="color:#50fa7b;">range</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">100</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">)

</span><span style="color:#f8f8f2;">[</span><span style="color:#ff79c6;">...</span><span style="color:#ffffff;">iterator2</span><span style="color:#f8f8f2;">] </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span></pre>
<ol start="0">
<li><em>return.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">function</span><span style="color:#ff79c6;">* </span><span style="color:#50fa7b;">range</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">min </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">max </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">10</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">step </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(; </span><span style="color:#ffffff;">min </span><span style="color:#ff79c6;">&lt; </span><span style="color:#ffffff;">max</span><span style="color:#f8f8f2;">; </span><span style="color:#ffffff;">min </span><span style="color:#ff79c6;">+= </span><span style="color:#ffffff;">step</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">rest </span><span style="color:#ff79c6;">= yield </span><span style="color:#ffffff;">min
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">rest</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">min </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">step </span><span style="color:#ff79c6;">* </span><span style="color:#bd93f9;">-1
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">iterator </span><span style="color:#ff79c6;">= </span><span style="color:#50fa7b;">range</span><span style="color:#f8f8f2;">()
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">()
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">true</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">()
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">return</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">return</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">iterator</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// ?
</span></pre>
<ol start="0">
<li><em>yield.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">function</span><span style="color:#ff79c6;">* </span><span style="color:#50fa7b;">g</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">yield </span><span style="color:#bd93f9;">1
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">yield </span><span style="color:#bd93f9;">2
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">yield </span><span style="color:#bd93f9;">3
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">yield* </span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">5</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">6</span><span style="color:#f8f8f2;">]
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">yield* </span><span style="color:#f1fa8c;">&#39;Hello World!&#39;
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">yield </span><span style="color:#bd93f9;">7
</span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">;[</span><span style="color:#ff79c6;">...</span><span style="color:#50fa7b;">g</span><span style="color:#f8f8f2;">()] </span><span style="color:#6272a4;">// ?
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Unicode</p>
<p>Unicode</p>
<ul>
<li>加强对 Unicode 的支持，并且扩展了字符串对象</li>
</ul>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// same as ES5.1
</span><span style="color:#f1fa8c;">&#39;𠮷&#39;</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">length </span><span style="color:#ff79c6;">== </span><span style="color:#bd93f9;">2

</span><span style="color:#6272a4;">// new RegExp behaviour, opt-in ‘u’
</span><span style="color:#f1fa8c;">&#39;𠮷&#39;</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">match</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">/</span><span style="color:#bd93f9;">.</span><span style="color:#f1fa8c;">/</span><span style="color:#ff79c6;">u</span><span style="color:#f8f8f2;">)[</span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">]</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">length </span><span style="color:#ff79c6;">== </span><span style="color:#bd93f9;">2

</span><span style="color:#6272a4;">// new form
</span><span style="color:#f8f8f2;">;(</span><span style="color:#f1fa8c;">&#39;</span><span style="color:#ff79c6;">\u</span><span style="color:#f1fa8c;">{20BB7}&#39; </span><span style="color:#ff79c6;">== </span><span style="color:#f1fa8c;">&#39;𠮷&#39;</span><span style="color:#f8f8f2;">) </span><span style="color:#ff79c6;">== </span><span style="color:#f1fa8c;">&#39;</span><span style="color:#ff79c6;">\uD842\uDFB7</span><span style="color:#f1fa8c;">&#39;

</span><span style="color:#6272a4;">// new String ops
</span><span style="color:#f1fa8c;">&#39;𠮷&#39;</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">codePointAt</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">) </span><span style="color:#ff79c6;">== </span><span style="color:#bd93f9;">0x20bb7

</span><span style="color:#6272a4;">// for-of iterates code points
</span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">c </span><span style="color:#ff79c6;">of </span><span style="color:#f1fa8c;">&#39;𠮷&#39;</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">c</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Modules ?</p>
<p>模块话系统目前还未实现！</p>
</li>
<li>
<p>Subclassable Built-ins</p>
<p>子类可继承自内置数据类型</p>
<blockquote>
<p>真的太方便了，比如想对 Array 进行扩展，现在无需修改 <code>Array.prototype</code>，<code>extends Array</code> 就可以了。</p>
</blockquote>
<ul>
<li>Array Boolean String Number Map Set Error RegExp Function Promise</li>
</ul>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="color:#6272a4;">// This is danger.
</span><span style="font-style:italic;color:#66d9ef;">Array</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">prototype</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">sum </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#8be9fd;">function</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">return </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">reduce</span><span style="color:#f8f8f2;">((</span><span style="font-style:italic;color:#ffb86c;">t</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">curr</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">t </span><span style="color:#ff79c6;">+ </span><span style="color:#ffffff;">curr</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">[</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">]
</span><span style="color:#ffffff;">a</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">sum</span><span style="color:#f8f8f2;">()
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="font-style:italic;color:#ff79c6;">class </span><span style="text-decoration:underline;color:#8be9fd;">CustomArray </span><span style="color:#ff79c6;">extends </span><span style="text-decoration:underline;font-style:italic;color:#8be9fd;">Array </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">constructor</span><span style="color:#f8f8f2;">(</span><span style="color:#ff79c6;">...</span><span style="font-style:italic;color:#ffb86c;">args</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#bd93f9;">super</span><span style="color:#f8f8f2;">(</span><span style="color:#ff79c6;">...</span><span style="color:#ffffff;">args</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">sum</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">reduce</span><span style="color:#f8f8f2;">((</span><span style="font-style:italic;color:#ffb86c;">t</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">curr</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">t </span><span style="color:#ff79c6;">+ </span><span style="color:#ffffff;">curr</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#66d9ef;">CustomArray</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">from</span><span style="color:#f8f8f2;">([</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">])
</span><span style="color:#ffffff;">a</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">sum</span><span style="color:#f8f8f2;">()
</span></pre></li>
<li>
<p>猜猜猜</p>
<ol start="0">
<li><em><a href="https://github.com/trekjs/middleware">middleware.js</a></em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">SYMBOL_ITERATOR </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#66d9ef;">Symbol</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">iterator

</span><span style="font-style:italic;color:#ff79c6;">class </span><span style="text-decoration:underline;color:#8be9fd;">Middleware </span><span style="color:#ff79c6;">extends </span><span style="text-decoration:underline;font-style:italic;color:#8be9fd;">Array </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  [</span><span style="color:#ffffff;">SYMBOL_ITERATOR</span><span style="color:#f8f8f2;">]() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#bd93f9;">this
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">i </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">context</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">nextFunc</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">fn </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">this</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">i</span><span style="color:#f8f8f2;">] </span><span style="color:#ff79c6;">|| </span><span style="color:#ffffff;">nextFunc

</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">      done: </span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">=== </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">length,
</span><span style="color:#f8f8f2;">      value:
</span><span style="color:#f8f8f2;">        </span><span style="color:#ffffff;">fn </span><span style="color:#ff79c6;">&amp;&amp;
</span><span style="color:#f8f8f2;">        </span><span style="color:#50fa7b;">fn</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">context</span><span style="color:#f8f8f2;">, () </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">          </span><span style="color:#ff79c6;">return </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">i </span><span style="color:#ff79c6;">+ </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">context</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">nextFunc</span><span style="color:#f8f8f2;">)</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">value
</span><span style="color:#f8f8f2;">        </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">compose</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">context</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">nextFunc</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#bd93f9;">this</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">SYMBOL_ITERATOR</span><span style="color:#f8f8f2;">]()</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">context</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">nextFunc</span><span style="color:#f8f8f2;">)</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">value
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">middleware </span><span style="color:#ff79c6;">= new </span><span style="color:#f8f8f2;">Middleware()

</span><span style="color:#ffffff;">middleware</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">push</span><span style="color:#f8f8f2;">((</span><span style="font-style:italic;color:#ffb86c;">ctx</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">next</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">ctx</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">arr</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">push</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">()
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">ctx</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">arr</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">push</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">6</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)

</span><span style="color:#ffffff;">middleware</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">push</span><span style="color:#f8f8f2;">((</span><span style="font-style:italic;color:#ffb86c;">ctx</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">next</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">ctx</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">arr</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">push</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">()
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">ctx</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">arr</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">push</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">5</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)

</span><span style="color:#ffffff;">middleware</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">push</span><span style="color:#f8f8f2;">((</span><span style="font-style:italic;color:#ffb86c;">ctx</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">next</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">ctx</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">arr</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">push</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">next</span><span style="color:#f8f8f2;">()
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">ctx</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">arr</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">push</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)

</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">ctx </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{ </span><span style="color:#f8f8f2;">arr: [] </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">middleware</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">compose</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">ctx</span><span style="color:#f8f8f2;">)
</span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">ctx</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">arr) </span><span style="color:#6272a4;">// ?
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Map + Set + WeakMap + WeakSet</p>
<p>新增 <code>Map</code> <code>Set</code> <code>WeakMap</code> <code>WeakSet</code> 几种高效的数据类型</p>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// Sets
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">s </span><span style="color:#ff79c6;">= new </span><span style="font-style:italic;color:#66d9ef;">Set</span><span style="color:#f8f8f2;">()
</span><span style="color:#ffffff;">s</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">add</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;hello&#39;</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">add</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;goodbye&#39;</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">add</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;hello&#39;</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">s</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">size </span><span style="color:#ff79c6;">=== </span><span style="color:#bd93f9;">2
</span><span style="color:#ffffff;">s</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">has</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;hello&#39;</span><span style="color:#f8f8f2;">) </span><span style="color:#ff79c6;">=== </span><span style="color:#bd93f9;">true

</span><span style="color:#6272a4;">// Maps
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">m </span><span style="color:#ff79c6;">= new </span><span style="font-style:italic;color:#66d9ef;">Map</span><span style="color:#f8f8f2;">()
</span><span style="color:#ffffff;">m</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">set</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;hello&#39;</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">42</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">m</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">set</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">s</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">34</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">m</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">get</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">s</span><span style="color:#f8f8f2;">) </span><span style="color:#ff79c6;">== </span><span style="color:#bd93f9;">34

</span><span style="color:#6272a4;">// Weak Maps
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">wm </span><span style="color:#ff79c6;">= new </span><span style="font-style:italic;color:#66d9ef;">WeakMap</span><span style="color:#f8f8f2;">()
</span><span style="color:#ffffff;">wm</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">set</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">s</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">{ </span><span style="color:#f8f8f2;">extra: </span><span style="color:#bd93f9;">42 </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">wm</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">size </span><span style="color:#ff79c6;">=== </span><span style="color:#bd93f9;">undefined

</span><span style="color:#6272a4;">// Weak Sets
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">ws </span><span style="color:#ff79c6;">= new </span><span style="color:#f8f8f2;">WeakSet()
</span><span style="color:#ffffff;">ws</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">add</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">{ </span><span style="color:#f8f8f2;">data: </span><span style="color:#bd93f9;">42 </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span><span style="color:#6272a4;">// Because the added object has no other references, it will not be held in the set
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Proxies</p>
<blockquote>
<p>当我们不想把对象暴露出来，不想直接操作它们，想增加一层校验时，<code>Proxies</code> 是一个最佳方案。<br />
但当增加了 <code>Proxies</code> 这一层，对性能还是会有影响的。</p>
</blockquote>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">inner </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  name: </span><span style="color:#f1fa8c;">&#39;ES6&#39;
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">outer </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">inner</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">get </span><span style="color:#50fa7b;">name</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">inner</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">name
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#8be9fd;">set </span><span style="color:#50fa7b;">name</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">name</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">inner</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">name </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">name
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="color:#6272a4;">// outer.name
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">inner </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  name: </span><span style="color:#f1fa8c;">&#39;ES6&#39;
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">p </span><span style="color:#ff79c6;">= new </span><span style="font-style:italic;color:#66d9ef;">Proxy</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">inner</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">get</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">target</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">name</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">target</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">name</span><span style="color:#f8f8f2;">]
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">,

</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">set</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">target</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">name</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">value</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;string&#39; </span><span style="color:#ff79c6;">!== typeof </span><span style="color:#ffffff;">value</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">      </span><span style="color:#ff79c6;">throw new </span><span style="font-style:italic;color:#66d9ef;">TypeError</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;value must be String!&#39;</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">target</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">name</span><span style="color:#f8f8f2;">] </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">value
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)

</span><span style="color:#ffffff;">p</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">name
</span><span style="color:#ffffff;">p</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">name </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">2
</span><span style="color:#ffffff;">p</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">name </span><span style="color:#ff79c6;">= </span><span style="color:#f1fa8c;">&#39;ES2015&#39;
</span></pre></li>
<li>
<p>猜猜猜</p>
<ol start="0">
<li><em><a href="https://github.com/fundon/delegate-proxy">delegate-proxy.js</a></em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">delegateProxy</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">target</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">origin</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">return new </span><span style="font-style:italic;color:#66d9ef;">Proxy</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">target</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#50fa7b;">get</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">target</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">key</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">receiver</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">      </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">key </span><span style="color:#ff79c6;">in </span><span style="color:#ffffff;">target</span><span style="color:#f8f8f2;">) </span><span style="color:#ff79c6;">return </span><span style="font-style:italic;color:#66d9ef;">Reflect</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">get</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">target</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">key</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">receiver</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">      </span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">value </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">origin</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">key</span><span style="color:#f8f8f2;">]
</span><span style="color:#f8f8f2;">      </span><span style="color:#ff79c6;">return </span><span style="color:#f1fa8c;">&#39;function&#39; </span><span style="color:#ff79c6;">=== typeof </span><span style="color:#ffffff;">value
</span><span style="color:#f8f8f2;">        </span><span style="color:#ff79c6;">? </span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">method</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">            </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">value</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">apply</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">origin</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">arguments</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">          </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">        </span><span style="color:#ff79c6;">: </span><span style="color:#ffffff;">value
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">    </span><span style="color:#50fa7b;">set</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">target</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">key</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">value</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">receiver</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">      </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">key </span><span style="color:#ff79c6;">in </span><span style="color:#ffffff;">target</span><span style="color:#f8f8f2;">) </span><span style="color:#ff79c6;">return </span><span style="font-style:italic;color:#66d9ef;">Reflect</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">set</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">target</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">key</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">value</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">receiver</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">      </span><span style="color:#ffffff;">origin</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">key</span><span style="color:#f8f8f2;">] </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">value
</span><span style="color:#f8f8f2;">      </span><span style="color:#ff79c6;">return </span><span style="color:#bd93f9;">true
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">}
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">bar </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  n: </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">,

</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">add</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">n </span><span style="color:#ff79c6;">+= </span><span style="color:#ffffff;">i
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">foo </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">set</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">n</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">n </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">n </span><span style="color:#ff79c6;">| </span><span style="color:#bd93f9;">0
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">,

</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">sub</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">i</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">n </span><span style="color:#ff79c6;">-= </span><span style="color:#ffffff;">i
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">p </span><span style="color:#ff79c6;">= </span><span style="color:#50fa7b;">delegateProxy</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">foo</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">bar</span><span style="color:#f8f8f2;">)

</span><span style="color:#ffffff;">bar
</span><span style="color:#ffffff;">foo
</span><span style="color:#ffffff;">p

</span><span style="color:#ffffff;">p</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">n </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">p</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">add</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">p</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">n </span><span style="color:#6272a4;">// ?

</span><span style="color:#ffffff;">p</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">sub</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">p</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">n </span><span style="color:#6272a4;">// ?

</span><span style="color:#ffffff;">p</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">set</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">p</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">n </span><span style="color:#6272a4;">// ?

</span><span style="color:#ffffff;">p</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">n </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">233
</span><span style="color:#ffffff;">p</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">n </span><span style="color:#6272a4;">// ?
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol">Symbols</a></p>
<p>符号：</p>
<ul>
<li>
<p>唯一性</p>
</li>
<li>
<p>不可变</p>
</li>
<li>
<p>不列入对象的 <code>Object.getOwnPropertyNames(obj)</code> 和 <code>Object.keys(obj)</code></p>
</li>
</ul>
<blockquote>
<p>想给对象打一个暗号，再也不难了！</p>
</blockquote>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">obj </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  id: </span><span style="color:#bd93f9;">1
</span><span style="color:#ffffff;">}

</span><span style="color:#ffffff;">obj</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">id </span><span style="color:#6272a4;">// 1
</span><span style="color:#ffffff;">obj</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">id </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">2
</span><span style="color:#ffffff;">obj</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">id </span><span style="color:#6272a4;">// 2
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">obj </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  [</span><span style="color:#50fa7b;">Symbol</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;id&#39;</span><span style="color:#f8f8f2;">)]: </span><span style="color:#bd93f9;">1
</span><span style="color:#ffffff;">}

</span><span style="color:#ffffff;">obj</span><span style="color:#f8f8f2;">[</span><span style="color:#50fa7b;">Symbol</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;id&#39;</span><span style="color:#f8f8f2;">)] </span><span style="color:#6272a4;">// undefined
</span><span style="color:#ffffff;">obj</span><span style="color:#f8f8f2;">[</span><span style="color:#50fa7b;">Symbol</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;id&#39;</span><span style="color:#f8f8f2;">)] </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">2
</span><span style="color:#ffffff;">obj</span><span style="color:#f8f8f2;">[</span><span style="color:#50fa7b;">Symbol</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;id&#39;</span><span style="color:#f8f8f2;">)] </span><span style="color:#6272a4;">// undefined

</span><span style="color:#ff79c6;">for </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">k </span><span style="color:#ff79c6;">of </span><span style="font-style:italic;color:#66d9ef;">Object</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">getOwnPropertySymbols</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">obj</span><span style="color:#f8f8f2;">)) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">obj</span><span style="color:#f8f8f2;">[</span><span style="color:#ffffff;">k</span><span style="color:#f8f8f2;">])
</span><span style="color:#ffffff;">}
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Math + Number + String + Array + Object APIs</p>
<p>新增 APIs，数据操作更加方便。</p>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#66d9ef;">Number</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">EPSILON
</span><span style="font-style:italic;color:#66d9ef;">Number</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">isInteger</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">Infinity</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// false
</span><span style="font-style:italic;color:#66d9ef;">Number</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">isNaN</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;NaN&#39;</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// false

</span><span style="font-style:italic;color:#66d9ef;">Math</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">acosh</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// 1.762747174039086
</span><span style="font-style:italic;color:#66d9ef;">Math</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">hypot</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// 5
</span><span style="font-style:italic;color:#66d9ef;">Math</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">imul</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#66d9ef;">Math</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">pow</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">32</span><span style="color:#f8f8f2;">) </span><span style="color:#ff79c6;">- </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#66d9ef;">Math</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">pow</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">32</span><span style="color:#f8f8f2;">) </span><span style="color:#ff79c6;">- </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// 2

</span><span style="color:#f1fa8c;">&#39;abcde&#39;</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">includes</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;cd&#39;</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// true
</span><span style="color:#f1fa8c;">&#39;abc&#39;</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">repeat</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// &quot;abcabcabc&quot;

</span><span style="font-style:italic;color:#66d9ef;">Array</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">from</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#66d9ef;">document</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">querySelectorAll</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;*&#39;</span><span style="color:#f8f8f2;">)) </span><span style="color:#6272a4;">// Returns a real Array
</span><span style="font-style:italic;color:#66d9ef;">Array</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">of</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// Similar to new Array(...), but without special one-arg behavior
</span><span style="color:#f8f8f2;">  [(</span><span style="color:#bd93f9;">0</span><span style="color:#ff79c6;">, </span><span style="color:#bd93f9;">0</span><span style="color:#ff79c6;">, </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">)]</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">fill</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">7</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// [0,7,7]
</span><span style="color:#f8f8f2;">  [(</span><span style="color:#bd93f9;">1</span><span style="color:#ff79c6;">, </span><span style="color:#bd93f9;">2</span><span style="color:#ff79c6;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">)]</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">findIndex</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">x </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">x </span><span style="color:#ff79c6;">== </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// 1
</span><span style="color:#f8f8f2;">  [(</span><span style="color:#f1fa8c;">&#39;a&#39;</span><span style="color:#ff79c6;">, </span><span style="color:#f1fa8c;">&#39;b&#39;</span><span style="color:#ff79c6;">, </span><span style="color:#f1fa8c;">&#39;c&#39;</span><span style="color:#f8f8f2;">)]</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">entries</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// iterator [0, &quot;a&quot;], [1,&quot;b&quot;], [2,&quot;c&quot;]
</span><span style="color:#f8f8f2;">  [(</span><span style="color:#f1fa8c;">&#39;a&#39;</span><span style="color:#ff79c6;">, </span><span style="color:#f1fa8c;">&#39;b&#39;</span><span style="color:#ff79c6;">, </span><span style="color:#f1fa8c;">&#39;c&#39;</span><span style="color:#f8f8f2;">)]</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">keys</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// iterator 0, 1, 2
</span><span style="color:#f8f8f2;">  [(</span><span style="color:#f1fa8c;">&#39;a&#39;</span><span style="color:#ff79c6;">, </span><span style="color:#f1fa8c;">&#39;b&#39;</span><span style="color:#ff79c6;">, </span><span style="color:#f1fa8c;">&#39;c&#39;</span><span style="color:#f8f8f2;">)]</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">values</span><span style="color:#f8f8f2;">() </span><span style="color:#6272a4;">// iterator &quot;a&quot;, &quot;b&quot;, &quot;c&quot;

</span><span style="font-style:italic;color:#66d9ef;">Object</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">assign</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">Point</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">{ </span><span style="color:#f8f8f2;">origin: </span><span style="color:#ff79c6;">new </span><span style="color:#f8f8f2;">Point(</span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Binary and Octal Literals</p>
<p>二进制 <code>b</code>，八进制 <code>o</code> 字面量</p>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#bd93f9;">0b111110111 </span><span style="color:#ff79c6;">=== </span><span style="color:#bd93f9;">503 </span><span style="color:#6272a4;">// true
</span><span style="color:#bd93f9;">0o767 </span><span style="color:#ff79c6;">=== </span><span style="color:#bd93f9;">503 </span><span style="color:#6272a4;">// true
</span><span style="color:#bd93f9;">0x1f7 </span><span style="color:#ff79c6;">=== </span><span style="color:#bd93f9;">503 </span><span style="color:#6272a4;">// true
</span></pre></li>
</ul>
</li>
<li>
<p>Promises</p>
<p>Promises：更加优雅的异步编程方式。想更加清晰了解 <code>Promise</code> 的执行过程，可以看这个可视化工具 <a href="https://github.com/bevacqua/promisees">promisees</a>。</p>
<blockquote>
<p>面对异步编程，<code>callback-hell</code> 就是 JavaScript 给人的最大诟病！</p>
</blockquote>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="color:#6272a4;">// old
</span><span style="color:#50fa7b;">getProfileById</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">233</span><span style="color:#f8f8f2;">, (</span><span style="font-style:italic;color:#ffb86c;">err</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">res</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">err</span><span style="color:#f8f8f2;">) </span><span style="color:#ff79c6;">throw </span><span style="color:#ffffff;">err
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">getFollowing</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">233</span><span style="color:#f8f8f2;">, (</span><span style="font-style:italic;color:#ffb86c;">err</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">following</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">err</span><span style="color:#f8f8f2;">) </span><span style="color:#ff79c6;">throw </span><span style="color:#ffffff;">err
</span><span style="color:#f8f8f2;">    </span><span style="color:#50fa7b;">getFollowers</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">233</span><span style="color:#f8f8f2;">, (</span><span style="font-style:italic;color:#ffb86c;">err</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">followers</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">      </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">err</span><span style="color:#f8f8f2;">) </span><span style="color:#ff79c6;">throw </span><span style="color:#ffffff;">err
</span><span style="color:#f8f8f2;">      </span><span style="color:#50fa7b;">getStarred</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">233</span><span style="color:#f8f8f2;">, (</span><span style="font-style:italic;color:#ffb86c;">err</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">starred</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">        </span><span style="color:#ff79c6;">if </span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">err</span><span style="color:#f8f8f2;">) </span><span style="color:#ff79c6;">throw </span><span style="color:#ffffff;">err
</span><span style="color:#f8f8f2;">        </span><span style="color:#6272a4;">// ....
</span><span style="color:#f8f8f2;">      </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span></pre><pre style="background-color:#282a36;">
<span style="color:#6272a4;">// new
</span><span style="color:#50fa7b;">getProfileById</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">233</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">then</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">res </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#50fa7b;">getFollowing</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">233</span><span style="color:#f8f8f2;">))
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">then</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">res </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#50fa7b;">getFollowers</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">233</span><span style="color:#f8f8f2;">))
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">then</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">res </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#50fa7b;">getStarred</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">233</span><span style="color:#f8f8f2;">))
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">catch</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">err </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">err</span><span style="color:#f8f8f2;">))
</span><span style="color:#6272a4;">// ...
</span></pre></li>
<li>
<p>猜猜猜</p>
<ol start="0">
<li><em>simple-promise.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">loadImage</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">url</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">return new </span><span style="font-style:italic;color:#66d9ef;">Promise</span><span style="color:#f8f8f2;">((</span><span style="font-style:italic;color:#ffb86c;">resolve</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">reject</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#ffffff;">img </span><span style="color:#ff79c6;">= new </span><span style="color:#f8f8f2;">Image()

</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">img</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">onload </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#8be9fd;">function</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">      </span><span style="color:#50fa7b;">resolve</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">img</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">img</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">onerror </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#8be9fd;">function</span><span style="color:#f8f8f2;">() </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">      </span><span style="color:#50fa7b;">reject</span><span style="color:#f8f8f2;">(</span><span style="color:#ff79c6;">new </span><span style="font-style:italic;color:#66d9ef;">Error</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;Could not load image at &#39; </span><span style="color:#ff79c6;">+ </span><span style="color:#f8f8f2;">url))
</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">}

</span><span style="color:#f8f8f2;">    </span><span style="color:#ffffff;">img</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">url </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">url
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}

</span><span style="color:#50fa7b;">loadImage</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;https://nodejs.org/static/images/logo-header.png&#39;</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">then</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">img </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="font-style:italic;color:#66d9ef;">document</span><span style="color:#ff79c6;">.</span><span style="color:#6be5fd;">body</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">appendChild</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">img</span><span style="color:#f8f8f2;">))
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">catch</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">err </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">err</span><span style="color:#f8f8f2;">))
</span></pre>
<ol start="0">
<li><em>all.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">value</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">duration </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">return new </span><span style="font-style:italic;color:#66d9ef;">Promise</span><span style="color:#f8f8f2;">((</span><span style="font-style:italic;color:#ffb86c;">resolve</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">reject</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#8be9fd;">setTimeout</span><span style="color:#f8f8f2;">(() </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#50fa7b;">resolve</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">value</span><span style="color:#f8f8f2;">), </span><span style="color:#ffffff;">duration</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">res </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#66d9ef;">Promise</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">all</span><span style="color:#f8f8f2;">([
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">10</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">),
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">8</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">),
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">6</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">),
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">),
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">5</span><span style="color:#f8f8f2;">),
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">6</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">])

</span><span style="color:#ffffff;">res</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">then</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">arr </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">arr</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span></pre>
<ol start="0">
<li><em>race.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">value</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">duration </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">return new </span><span style="font-style:italic;color:#66d9ef;">Promise</span><span style="color:#f8f8f2;">((</span><span style="font-style:italic;color:#ffb86c;">resolve</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">reject</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">    </span><span style="color:#8be9fd;">setTimeout</span><span style="color:#f8f8f2;">(() </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#50fa7b;">resolve</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">value</span><span style="color:#f8f8f2;">), </span><span style="color:#ffffff;">duration</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">  </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">let </span><span style="color:#ffffff;">res </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#66d9ef;">Promise</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">race</span><span style="color:#f8f8f2;">([
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">10</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">),
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">8</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">),
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">6</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">),
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">),
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">5</span><span style="color:#f8f8f2;">),
</span><span style="color:#f8f8f2;">  </span><span style="color:#50fa7b;">delay</span><span style="color:#f8f8f2;">(</span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">6</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">])

</span><span style="color:#ffffff;">res</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">then</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">arr </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">arr</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span></pre>
<ol start="0">
<li><em>reduce.js</em></li>
</ol>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#50fa7b;">reduce </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">arr</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">cb</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">initialValue </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">0</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#ff79c6;">return </span><span style="color:#ffffff;">arr</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">reduce</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">cb</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#66d9ef;">Promise</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">resolve</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">initialValue</span><span style="color:#f8f8f2;">))
</span><span style="color:#ffffff;">}

</span><span style="font-style:italic;color:#8be9fd;">const </span><span style="color:#50fa7b;">cb </span><span style="color:#ff79c6;">= </span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">prev</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">curr</span><span style="color:#f8f8f2;">) </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">prev</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">then</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">v </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">v </span><span style="color:#ff79c6;">+ </span><span style="color:#ffffff;">curr</span><span style="color:#f8f8f2;">)

</span><span style="color:#50fa7b;">reduce</span><span style="color:#f8f8f2;">([</span><span style="color:#bd93f9;">1</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">2</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">3</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">4</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">5</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">6</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">7</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">8</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">9</span><span style="color:#f8f8f2;">], </span><span style="color:#ffffff;">cb</span><span style="color:#f8f8f2;">)</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">then</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">res </span><span style="font-style:italic;color:#8be9fd;">=&gt; </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="font-style:italic;color:#66d9ef;">console</span><span style="color:#ff79c6;">.</span><span style="color:#8be9fd;">log</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">res</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// ?
</span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect">Reflect API</a></p>
<p>反射 API：公开了对象的元操作，效果跟 Proxy API 相反</p>
<ul>
<li>
<p>e.g.</p>
<pre style="background-color:#282a36;">
<span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">O </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">{ </span><span style="color:#f8f8f2;">a: </span><span style="color:#bd93f9;">1 </span><span style="color:#ffffff;">}
</span><span style="font-style:italic;color:#66d9ef;">Object</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">defineProperty</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">O</span><span style="color:#f8f8f2;">, </span><span style="color:#f1fa8c;">&#39;b&#39;</span><span style="color:#f8f8f2;">, </span><span style="color:#ffffff;">{ </span><span style="color:#f8f8f2;">value: </span><span style="color:#bd93f9;">2 </span><span style="color:#ffffff;">}</span><span style="color:#f8f8f2;">)
</span><span style="font-style:italic;color:#66d9ef;">O</span><span style="color:#f8f8f2;">[</span><span style="color:#50fa7b;">Symbol</span><span style="color:#f8f8f2;">(</span><span style="color:#f1fa8c;">&#39;c&#39;</span><span style="color:#f8f8f2;">)] </span><span style="color:#ff79c6;">= </span><span style="color:#bd93f9;">3

</span><span style="font-style:italic;color:#66d9ef;">Reflect</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">ownKeys</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">O</span><span style="color:#f8f8f2;">) </span><span style="color:#6272a4;">// [&#39;a&#39;, &#39;b&#39;, Symbol(c)]

</span><span style="font-style:italic;color:#8be9fd;">function </span><span style="color:#50fa7b;">C</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#ffb86c;">a</span><span style="color:#f8f8f2;">, </span><span style="font-style:italic;color:#ffb86c;">b</span><span style="color:#f8f8f2;">) </span><span style="color:#ffffff;">{
</span><span style="color:#f8f8f2;">  </span><span style="color:#bd93f9;">this</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">c </span><span style="color:#ff79c6;">= </span><span style="color:#ffffff;">a </span><span style="color:#ff79c6;">+ </span><span style="color:#ffffff;">b
</span><span style="color:#ffffff;">}
</span><span style="font-style:italic;color:#8be9fd;">var </span><span style="color:#ffffff;">instance </span><span style="color:#ff79c6;">= </span><span style="font-style:italic;color:#66d9ef;">Reflect</span><span style="color:#ff79c6;">.</span><span style="color:#50fa7b;">construct</span><span style="color:#f8f8f2;">(</span><span style="color:#ffffff;">C</span><span style="color:#f8f8f2;">, [</span><span style="color:#bd93f9;">20</span><span style="color:#f8f8f2;">, </span><span style="color:#bd93f9;">22</span><span style="color:#f8f8f2;">])
</span><span style="color:#ffffff;">instance</span><span style="color:#ff79c6;">.</span><span style="color:#f8f8f2;">c </span><span style="color:#6272a4;">// 42
</span></pre></li>
</ul>
</li>
</ul>
<ul>
<li>
<p>Tail Calls</p>
<p>优化了尾递归算法，保证栈不会无限增长，使得尾递归算法安全。</p>
</li>
</ul>
<h2 id="kuai-su-ti-yan">快速体验</h2>
<blockquote>
<p>对以上新特性，快速体验一番，环境包括 浏览器 和 Node.js</p>
</blockquote>
<h2 id="gao-ji-ying-yong">高级应用</h2>
<blockquote>
<p>深入学习特性，应用生产</p>
</blockquote>
<h2 id="jian-rong-dai-ma-zhuan-huan">兼容，代码转换</h2>
<blockquote>
<p>使用转换工具，对 ES6+ 的代码进行转换，适配浏览器或者 Node &lt; v6</p>
</blockquote>
<h2 id="qi-ta">其他</h2>
<ul>
<li>
<p>http://es6.ruanyifeng.com</p>
</li>
<li>
<p>https://github.com/lukehoban/es6features</p>
</li>
<li>
<p>https://babeljs.io/docs/learn-es2015/</p>
</li>
<li>
<p>https://ponyfoo.com/articles/tagged/es6-in-depth</p>
</li>
<li>
<p>https://github.com/bevacqua/es6</p>
</li>
<li>
<p>https://github.com/DrkSephy/es6-cheatsheet</p>
</li>
<li>
<p>https://github.com/ericdouglas/ES6-Learning</p>
</li>
<li>
<p>https://github.com/addyosmani/es6-tools</p>
</li>
<li>
<p>https://github.com/bevacqua/promisees</p>
</li>
</ul>
<h2 id="license">License</h2>
<p>授权：<a href="https://creativecommons.org/licenses/by-nc/4.0/">署名-非商业性使用</a></p>
<hr />
<blockquote>
<p><a href="https://fundon.me">fundon.me</a>  · 
GitHub <a href="https://github.com/fundon">@fundon</a>  · 
Twitter <a href="https://twitter.com/_fundon">@_fundon</a></p>
</blockquote>

  </div>
</article>

    </main>

    <footer class="footer">
      <div class="container">
        <div class="heart">
          Made with&nbsp;&nbsp; <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" shape-rendering="geometricPrecision" style="color:var(--geist-foreground);--geist-fill:currentColor;--geist-stroke:var(--geist-background)">
  <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" fill="var(--geist-fill)"/>
</svg>&nbsp;&nbsp; © Fangdun Cai  2019
        </div>
        <div class="power">
          Powered By <a href="https://www.getzola.org/">Zola</a> & <a href="https://zeit.co/">Zeit</a> & <a href="https://zeit.co/design">Design</a>
        </div>
      </div>
    </footer>

    <script>
      document.querySelector('button.toggle').onclick = toggle
    </script>
  </body>
</html>
