<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>é”ˆå‡ºæœªæ¥</title>
        <link>https://fundon.me</link>
        <description>ç”Ÿå‘½ç¬¬ N æ¬¡ç»ƒä¹ ï¼Œè°¢å¤©åœ°èµæˆ‘é€†å¢ƒï¼</description>
        <generator>Zola</generator>
        <language>en</language>
        <atom:link href="https://fundon.me/tags/async-await/rss.xml" rel="self" type="application/rss+xml"/>
        <lastBuildDate>Wed, 04 Dec 2019 08:00:00 +0000</lastBuildDate>
        
            <item>
                <title>Async-await on Rust</title>
                <pubDate>Wed, 04 Dec 2019 08:00:00 +0000</pubDate>
                <link>https://fundon.me/async-await-on-rust/</link>
                <guid>https://fundon.me/async-await-on-rust/</guid>
                <description>&lt;p&gt;å¼‚æ­¥æ“ä½œï¼Œå¯¹ &lt;strong&gt;JavaScript&lt;&#x2F;strong&gt; å¼€å‘è€…æ¥è¯´å·²ç»å±äºæ—¥å¸¸æ“ä½œï¼Œå®¶å¸¸ä¾¿é¥­ã€‚
ä» &lt;code&gt;Callback&lt;&#x2F;code&gt; åˆ° &lt;code&gt;Promise&lt;&#x2F;code&gt; å†åˆ° &lt;code&gt;Async-await&lt;&#x2F;code&gt;ï¼Œä¸€è·¯æ‘†è„±äº† &lt;code&gt;Callback Hell&lt;&#x2F;code&gt;ã€&lt;code&gt;Promise Chain&lt;&#x2F;code&gt;ï¼Œ
&lt;code&gt;Async-await&lt;&#x2F;code&gt; ä¸ºå·¥ç¨‹å¼€å‘å¸¦æ¥äº†æå¤§ä¾¿åˆ©ï¼Œç®€ç›´æ˜¯ç¥å…µåˆ©å™¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Rust&lt;&#x2F;strong&gt; åœ¨ &lt;strong&gt;&lt;a href=&quot;https:&#x2F;&#x2F;blog.rust-lang.org&#x2F;2019&#x2F;11&#x2F;07&#x2F;Rust-1.39.0.html&quot;&gt;1.39.0&lt;&#x2F;a&gt;&lt;&#x2F;strong&gt; ç¨³å®šç‰ˆä¸­å¼•å…¥äº†æœŸå¾…å·²ä¹…çš„ &lt;code&gt;Async-await&lt;&#x2F;code&gt; è¯­æ³•ç³–ï¼Œè¿™æ˜¯ä¸€ä¸ªä¼Ÿå¤§çš„é‡Œç¨‹ç¢‘ï¼ŒğŸ¦€ ç»ˆäºå¯ä»¥æ„‰å¿«åœ°çˆ¬è¡Œäº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ç®¡æ˜¯ &lt;strong&gt;JavaScript&lt;&#x2F;strong&gt; ç‰ˆè¿˜æ˜¯ &lt;strong&gt;Rust&lt;&#x2F;strong&gt; ç‰ˆæœ¬ï¼Œä¸¤åˆ™åœ¨è®¾è®¡ä¸Šè¿˜æ˜¯å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œå¯ä»¥æ¢ç´¢ä¸€ç•ªã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;javascript&quot;&gt;JavaScript&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;zh-CN&#x2F;docs&#x2F;Web&#x2F;JavaScript&#x2F;Reference&#x2F;Global_Objects&#x2F;AsyncFunction&quot;&gt;AsyncFunction&lt;&#x2F;a&gt;ï¼šç”¨æ¥åˆ›å»ºæ–°çš„å¼‚æ­¥å‡½æ•°å¯¹è±¡&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;zh-CN&#x2F;docs&#x2F;Web&#x2F;JavaScript&#x2F;Reference&#x2F;Global_Objects&#x2F;Promise&quot;&gt;Promise&lt;&#x2F;a&gt;ï¼šå¯¹è±¡ç”¨äºè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆ (æˆ–å¤±è´¥)ï¼ŒåŠå…¶ç»“æœå€¼&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pending&lt;&#x2F;code&gt;ï¼šåˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥çŠ¶æ€&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;fulfilled&lt;&#x2F;code&gt;ï¼šæ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆ&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;rejected&lt;&#x2F;code&gt;ï¼šæ„å‘³ç€æ“ä½œå¤±è´¥&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ &lt;code&gt;async function&lt;&#x2F;code&gt; æ¥å£°æ˜ä¸€ä¸ª &lt;code&gt;AsyncFunction&lt;&#x2F;code&gt;ï¼Œå½“æ‰§è¡Œè¿™ä¸ª &lt;code&gt;AsyncFunction()&lt;&#x2F;code&gt; æ—¶ï¼Œ
ä¼šè¿”å›ä¸€ä¸ª &lt;code&gt;Promise&lt;&#x2F;code&gt;ï¼Œç„¶åå†æ‰§è¡Œ &lt;code&gt;await Promise&lt;&#x2F;code&gt; æ“ä½œï¼Œç»è¿‡è®¡ç®—åï¼Œå°±å¯ä»¥è·å¾—æœ€ç»ˆç»“æœã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282a36;&quot;&gt;
&lt;span style=&quot;font-style:italic;color:#8be9fd;&quot;&gt;async function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#50fa7b;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;{
  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ff79c6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f1fa8c;&quot;&gt;&amp;#39;Hello Async-await&amp;#39;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;}

&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#8be9fd;&quot;&gt;async function &lt;&#x2F;span&gt;&lt;span style=&quot;color:#50fa7b;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;{
  &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#8be9fd;&quot;&gt;let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ff79c6;&quot;&gt;= await &lt;&#x2F;span&gt;&lt;span style=&quot;color:#50fa7b;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;()
  &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#66d9ef;&quot;&gt;console&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ff79c6;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8be9fd;&quot;&gt;log&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;result&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;}

&lt;&#x2F;span&gt;&lt;span style=&quot;color:#50fa7b;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;rust&quot;&gt;Rust&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;future&#x2F;trait.Future.html&quot;&gt;Future&lt;&#x2F;a&gt;ï¼šç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥è®¡ç®—&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;beta&#x2F;std&#x2F;task&#x2F;enum.Poll.html&quot;&gt;Poll&lt;&#x2F;a&gt;ï¼šç±»ä¼¼ &lt;strong&gt;JavaScript&lt;&#x2F;strong&gt; ä¸­çš„ &lt;code&gt;Promise&lt;&#x2F;code&gt;ï¼Œå®ƒæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Ready&amp;lt;T&amp;gt;&lt;&#x2F;code&gt;ï¼šè¡¨ç¤ºç»“æœå·²ç»è®¡ç®—å®Œæ¯•ï¼Œå‡†å¤‡å¦¥å½“ï¼Œå¯ä»¥ç«‹åˆ»è¿”å›&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;Pending&lt;&#x2F;code&gt;ï¼šç­‰å¾…çŠ¶æ€ï¼Œä»»åŠ¡è¿›è¡Œä¸­ï¼Œè¿˜åœ¨è®¡ç®—ï¼Œç»“æœå‡†å¤‡ä¸­&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ &lt;code&gt;async fn&lt;&#x2F;code&gt;ï¼Œå£°æ˜ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œå½“æ‰§è¡Œè¿™ä¸ªå¼‚æ­¥æ–¹æ³• &lt;code&gt;fn()&lt;&#x2F;code&gt; æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ª &lt;code&gt;Future&lt;&#x2F;code&gt;ï¼Œç„¶ååœ¨æ‰§è¡Œ &lt;code&gt;Future.await&lt;&#x2F;code&gt; æ“ä½œï¼Œ
åˆ›å»ºä¸€ä¸ªæ–°ä»»åŠ¡ï¼Œæ­¤æ—¶å†…éƒ¨çœŸæ­£æ‰§è¡Œçš„æ˜¯ &lt;code&gt;Future.poll()&lt;&#x2F;code&gt;ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ª &lt;code&gt;Poll&lt;&#x2F;code&gt;ï¼Œç»è¿‡è®¡ç®—åï¼Œå°±å¯ä»¥è·å¾—æœ€ç»ˆç»“æœã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;xiao-tie-shi&quot;&gt;å°è´´å£«&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªå¼‚æ­¥æ–¹æ³•æœ‰è¿”å›ç»“æœ &lt;code&gt;T&lt;&#x2F;code&gt;ï¼Œåˆ™ç›¸åº”çš„ï¼Œæ‰§è¡Œ &lt;code&gt;fn()&lt;&#x2F;code&gt; æ—¶ï¼Œè¿”å›çš„æ˜¯ &lt;code&gt;Future&amp;lt;Outout = T&amp;gt;&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å› ä¸ºè¿”å›ç»“æœ &lt;code&gt;T&lt;&#x2F;code&gt; æ˜¯ä¸€ä¸ªèŒƒå‹ï¼Œå¯ä»¥åœ¨ &lt;code&gt;Future.await&lt;&#x2F;code&gt; åé¢åŠ ä¸Š &lt;code&gt;?&lt;&#x2F;code&gt; æ“ä½œç¬¦ï¼Œ&lt;code&gt;Future.await?&lt;&#x2F;code&gt;ï¼Œå®ƒä¼šæŠŠç»“æœè½¬åŒ–æˆ &lt;code&gt;Result&amp;lt;T, E&amp;gt;&lt;&#x2F;code&gt;ï¼Œ
æ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥è½»æ¾åˆ¤æ–­æˆåŠŸæˆ–å¤±è´¥ï¼Œè¿™å°±ä¸ &lt;strong&gt;JavaScript&lt;&#x2F;strong&gt; ä¸­çš„ &lt;code&gt;Promise#fulfilled&lt;&#x2F;code&gt; å’Œ &lt;code&gt;Promise#rejected&lt;&#x2F;code&gt; å¼‚æ›²åŒå·¥ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;pre style=&quot;background-color:#282a36;&quot;&gt;
&lt;span style=&quot;color:#ff79c6;&quot;&gt;use &lt;&#x2F;span&gt;&lt;span style=&quot;text-decoration:underline;color:#66d9ef;&quot;&gt;async_std&lt;&#x2F;span&gt;&lt;span style=&quot;text-decoration:underline;color:#ff79c6;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;task;

async &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#8be9fd;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#50fa7b;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ff79c6;&quot;&gt;-&amp;gt; String &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;{
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f1fa8c;&quot;&gt;&amp;quot;Hello Async-await&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ff79c6;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8be9fd;&quot;&gt;to_owned&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;}

&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#8be9fd;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#50fa7b;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;{
    &lt;&#x2F;span&gt;&lt;span style=&quot;text-decoration:underline;color:#66d9ef;&quot;&gt;task&lt;&#x2F;span&gt;&lt;span style=&quot;text-decoration:underline;color:#ff79c6;&quot;&gt;::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;block_on(async &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;{
        &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#8be9fd;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt; result &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ff79c6;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8be9fd;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;()&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ff79c6;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;await;
        println!(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f1fa8c;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bd93f9;&quot;&gt;{}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f1fa8c;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;, result);
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f8f8f2;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;zong-jie&quot;&gt;æ€»ç»“&lt;&#x2F;h3&gt;
&lt;p&gt;ä»¥ä¸Šåˆ†æä¸¤ç§è¯­è¨€åœ¨ &lt;code&gt;Async-await&lt;&#x2F;code&gt; çš„è®¾è®¡ã€æ‰§è¡Œæµç¨‹ï¼Œåœ¨å®ç°ä¸Šæœ‰å¾ˆå¤šç›¸è¯†ä¹‹å¤„ï¼Œå¦‚æœä¹‹å‰æœ‰ &lt;strong&gt;JavaScript&lt;&#x2F;strong&gt; å¼€å‘ç»éªŒï¼Œåˆ™å¯ä»¥è½»æ¾åœ°è¿‡æ¸¡åˆ° &lt;strong&gt;Rust&lt;&#x2F;strong&gt; ä¸­ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ€»ä¹‹è®©æˆ‘ä»¬ ğŸ¦€ æ„‰å¿«çš„çˆ¬èµ·æ¥ã€‚&lt;&#x2F;p&gt;
</description>
            </item>
        
    </channel>
</rss>
